# instanssi administration frontend

This is the administration frontend for the Instanssi event website.

## Development setup

1. Install Node 24.x LTS
2. Install pnpm: `npm install -g pnpm@10`
3. Install packages: `pnpm install`
4. Start up in dev mode, run: `pnpm run dev`

For development, VSCode with Volar + eslint + prettier plugins will do fine.

## Building for production

Just run:
```sh
pnpm run build
```

Note that the completed build will be put to `backend/Instanssi/management/site/` directory!
This is so that the django backend can find and offer it in dev builds. In production, we just
offer that directory directly via nginx as static content.

### Running code quality tools

```sh
pnpm run format
pnpm run type-check
pnpm run lint
pnpm run test
```

### Checking bundle size

```sh
pnpm dlx vite-bundle-visualizer
```

## Updating API client

API client is automatically generated from OpenAPI schema. The schema is automatically generated by django
backend, directly from the API definition.

To update API client, do:
1. Make sure backend is running
2. Run command `pnpm run fetch-apidoc`. This will fetch the openapi schema documentation from the server.
3. Run command `pnpm run generate-api`. This will generate a new API based on the downloaded spec.
4. Commit and push changed files to Git.
5. Profit!
