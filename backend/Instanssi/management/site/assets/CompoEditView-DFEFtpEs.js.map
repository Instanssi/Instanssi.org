{"version":3,"file":"CompoEditView-DFEFtpEs.js","sources":["../../../../../admin/src/views/kompomaatti/CompoEditView.vue"],"sourcesContent":["<template>\n    <LayoutBase :breadcrumbs=\"breadcrumbs\">\n        <v-col v-if=\"loading\" class=\"d-flex justify-center my-8\">\n            <v-progress-circular indeterminate size=\"64\" />\n        </v-col>\n        <v-col v-else>\n            <v-card>\n                <v-card-text>\n                    <v-form @submit.prevent=\"submit\">\n                        <v-text-field\n                            v-model=\"name.value.value\"\n                            :error-messages=\"name.errorMessage.value\"\n                            variant=\"outlined\"\n                            :label=\"t('CompoEditView.labels.name') + ' *'\"\n                        />\n                        <VuetifyTiptap v-model=\"description.value.value\" />\n                        <div\n                            v-if=\"description.errorMessage.value\"\n                            class=\"text-error text-caption mb-4\"\n                        >\n                            {{ description.errorMessage.value }}\n                        </div>\n\n                        <FormSection>\n                            {{ t(\"CompoEditView.sections.schedule\") }}\n                        </FormSection>\n                        <v-row>\n                            <v-col cols=\"12\" md=\"6\">\n                                <v-text-field\n                                    v-model=\"addingEnd.value.value\"\n                                    type=\"datetime-local\"\n                                    :error-messages=\"addingEnd.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.addingEnd') + ' *'\"\n                                />\n                            </v-col>\n                            <v-col cols=\"12\" md=\"6\">\n                                <v-text-field\n                                    v-model=\"editingEnd.value.value\"\n                                    type=\"datetime-local\"\n                                    :error-messages=\"editingEnd.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.editingEnd') + ' *'\"\n                                />\n                            </v-col>\n                        </v-row>\n                        <v-row>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-text-field\n                                    v-model=\"compoStart.value.value\"\n                                    type=\"datetime-local\"\n                                    :error-messages=\"compoStart.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.compoStart') + ' *'\"\n                                />\n                            </v-col>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-text-field\n                                    v-model=\"votingStart.value.value\"\n                                    type=\"datetime-local\"\n                                    :error-messages=\"votingStart.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.votingStart') + ' *'\"\n                                />\n                            </v-col>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-text-field\n                                    v-model=\"votingEnd.value.value\"\n                                    type=\"datetime-local\"\n                                    :error-messages=\"votingEnd.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.votingEnd') + ' *'\"\n                                />\n                            </v-col>\n                        </v-row>\n\n                        <FormSection>\n                            {{ t(\"CompoEditView.sections.fileSettings\") }}\n                        </FormSection>\n                        <v-row>\n                            <v-col cols=\"12\" md=\"6\">\n                                <div class=\"d-flex ga-2\">\n                                    <v-text-field\n                                        v-model.number=\"entrySizeValue\"\n                                        type=\"number\"\n                                        min=\"0\"\n                                        :error-messages=\"entrySizelimit.errorMessage.value\"\n                                        variant=\"outlined\"\n                                        :label=\"t('CompoEditView.labels.entrySizelimit')\"\n                                        class=\"flex-grow-1\"\n                                    />\n                                    <v-select\n                                        v-model=\"entrySizeUnit\"\n                                        :items=\"sizeUnitOptions\"\n                                        variant=\"outlined\"\n                                        style=\"max-width: 100px\"\n                                    />\n                                </div>\n                            </v-col>\n                            <v-col cols=\"12\" md=\"6\">\n                                <div class=\"d-flex ga-2\">\n                                    <v-text-field\n                                        v-model.number=\"sourceSizeValue\"\n                                        type=\"number\"\n                                        min=\"0\"\n                                        :error-messages=\"sourceSizelimit.errorMessage.value\"\n                                        variant=\"outlined\"\n                                        :label=\"t('CompoEditView.labels.sourceSizelimit')\"\n                                        class=\"flex-grow-1\"\n                                    />\n                                    <v-select\n                                        v-model=\"sourceSizeUnit\"\n                                        :items=\"sizeUnitOptions\"\n                                        variant=\"outlined\"\n                                        style=\"max-width: 100px\"\n                                    />\n                                </div>\n                            </v-col>\n                        </v-row>\n                        <v-row>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-combobox\n                                    v-model=\"formatsArray\"\n                                    :items=\"commonEntryFormats\"\n                                    :error-messages=\"formats.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.formats')\"\n                                    multiple\n                                    chips\n                                    closable-chips\n                                />\n                            </v-col>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-combobox\n                                    v-model=\"sourceFormatsArray\"\n                                    :items=\"commonSourceFormats\"\n                                    :error-messages=\"sourceFormats.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.sourceFormats')\"\n                                    multiple\n                                    chips\n                                    closable-chips\n                                />\n                            </v-col>\n                            <v-col cols=\"12\" md=\"4\">\n                                <v-combobox\n                                    v-model=\"imageFormatsArray\"\n                                    :items=\"commonImageFormats\"\n                                    :error-messages=\"imageFormats.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.imageFormats')\"\n                                    multiple\n                                    chips\n                                    closable-chips\n                                />\n                            </v-col>\n                        </v-row>\n\n                        <FormSection>\n                            {{ t(\"CompoEditView.sections.displaySettings\") }}\n                        </FormSection>\n                        <v-row>\n                            <v-col cols=\"12\" md=\"6\">\n                                <v-select\n                                    v-model.number=\"entryViewType.value.value\"\n                                    :items=\"entryViewTypeOptions\"\n                                    :error-messages=\"entryViewType.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.entryViewType')\"\n                                >\n                                    <template #item=\"{ props: itemProps, item }\">\n                                        <v-list-item v-bind=\"itemProps\">\n                                            <v-list-item-subtitle>\n                                                {{ item.raw.description }}\n                                            </v-list-item-subtitle>\n                                        </v-list-item>\n                                    </template>\n                                </v-select>\n                            </v-col>\n                            <v-col cols=\"12\" md=\"6\">\n                                <v-select\n                                    v-model.number=\"thumbnailPref.value.value\"\n                                    :items=\"thumbnailPrefOptions\"\n                                    :error-messages=\"thumbnailPref.errorMessage.value\"\n                                    variant=\"outlined\"\n                                    :label=\"t('CompoEditView.labels.thumbnailPref')\"\n                                >\n                                    <template #item=\"{ props: itemProps, item }\">\n                                        <v-list-item v-bind=\"itemProps\">\n                                            <v-list-item-subtitle>\n                                                {{ item.raw.description }}\n                                            </v-list-item-subtitle>\n                                        </v-list-item>\n                                    </template>\n                                </v-select>\n                            </v-col>\n                        </v-row>\n\n                        <FormSection>\n                            {{ t(\"CompoEditView.sections.visibility\") }}\n                        </FormSection>\n                        <ToggleSwitch\n                            v-model=\"active.value.value\"\n                            :error-message=\"active.errorMessage.value\"\n                            :label-on=\"t('CompoEditView.labels.activeOn')\"\n                            :label-off=\"t('CompoEditView.labels.activeOff')\"\n                            :hint-on=\"t('CompoEditView.labels.activeHintOn')\"\n                            :hint-off=\"t('CompoEditView.labels.activeHintOff')\"\n                        />\n                        <ToggleSwitch\n                            v-model=\"isVotable.value.value\"\n                            :error-message=\"isVotable.errorMessage.value\"\n                            :label-on=\"t('CompoEditView.labels.isVotableOn')\"\n                            :label-off=\"t('CompoEditView.labels.isVotableOff')\"\n                            :hint-on=\"t('CompoEditView.labels.isVotableHintOn')\"\n                            :hint-off=\"t('CompoEditView.labels.isVotableHintOff')\"\n                        />\n                        <ToggleSwitch\n                            v-model=\"showVotingResults.value.value\"\n                            :error-message=\"showVotingResults.errorMessage.value\"\n                            :label-on=\"t('CompoEditView.labels.showVotingResultsOn')\"\n                            :label-off=\"t('CompoEditView.labels.showVotingResultsOff')\"\n                            :hint-on=\"t('CompoEditView.labels.showVotingResultsHintOn')\"\n                            :hint-off=\"t('CompoEditView.labels.showVotingResultsHintOff')\"\n                        />\n                        <ToggleSwitch\n                            v-model=\"showInArchive\"\n                            :error-message=\"hideFromArchive.errorMessage.value\"\n                            :label-on=\"t('CompoEditView.labels.hideFromArchiveOff')\"\n                            :label-off=\"t('CompoEditView.labels.hideFromArchiveOn')\"\n                            :hint-on=\"t('CompoEditView.labels.hideFromArchiveHintOn')\"\n                            :hint-off=\"t('CompoEditView.labels.hideFromArchiveHintOff')\"\n                        />\n                        <ToggleSwitch\n                            v-model=\"showOnFrontpage\"\n                            :error-message=\"hideFromFrontpage.errorMessage.value\"\n                            :label-on=\"t('CompoEditView.labels.hideFromFrontpageOff')\"\n                            :label-off=\"t('CompoEditView.labels.hideFromFrontpageOn')\"\n                            :hint-on=\"t('CompoEditView.labels.hideFromFrontpageHintOn')\"\n                            :hint-off=\"t('CompoEditView.labels.hideFromFrontpageHintOff')\"\n                        />\n                    </v-form>\n                </v-card-text>\n                <v-card-actions class=\"justify-end\">\n                    <v-btn variant=\"text\" @click=\"goBack\">\n                        {{ t(\"General.cancel\") }}\n                    </v-btn>\n                    <v-btn\n                        variant=\"elevated\"\n                        color=\"primary\"\n                        :loading=\"saving\"\n                        :disabled=\"!meta.valid\"\n                        @click=\"submit\"\n                    >\n                        <template #prepend>\n                            <FontAwesomeIcon :icon=\"faSave\" />\n                        </template>\n                        {{ t(\"General.save\") }}\n                    </v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-col>\n    </LayoutBase>\n</template>\n\n<script setup lang=\"ts\">\nimport { faFloppyDisk as faSave } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { parseInt } from \"lodash-es\";\nimport { type GenericObject, useField, useForm } from \"vee-validate\";\nimport { computed, onMounted, ref } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useRouter } from \"vue-router\";\nimport { useToast } from \"vue-toastification\";\nimport {\n    boolean as yupBoolean,\n    number as yupNumber,\n    object as yupObject,\n    string as yupString,\n} from \"yup\";\n\nimport * as api from \"@/api\";\nimport FormSection from \"@/components/form/FormSection.vue\";\nimport LayoutBase, { type BreadcrumbItem } from \"@/components/layout/LayoutBase.vue\";\nimport ToggleSwitch from \"@/components/form/ToggleSwitch.vue\";\nimport { useEvents } from \"@/services/events\";\nimport { toISODatetime, toLocalDatetime } from \"@/utils/datetime\";\nimport { handleApiError, type FieldMapping } from \"@/utils/http\";\n\n/** Maps API field names (snake_case) to form field names (camelCase) */\nconst API_FIELD_MAPPING: FieldMapping = {\n    name: \"name\",\n    description: \"description\",\n    adding_end: \"addingEnd\",\n    editing_end: \"editingEnd\",\n    compo_start: \"compoStart\",\n    voting_start: \"votingStart\",\n    voting_end: \"votingEnd\",\n    entry_sizelimit: \"entrySizelimit\",\n    source_sizelimit: \"sourceSizelimit\",\n    formats: \"formats\",\n    source_formats: \"sourceFormats\",\n    image_formats: \"imageFormats\",\n    active: \"active\",\n    show_voting_results: \"showVotingResults\",\n    is_votable: \"isVotable\",\n    entry_view_type: \"entryViewType\",\n    thumbnail_pref: \"thumbnailPref\",\n    hide_from_archive: \"hideFromArchive\",\n    hide_from_frontpage: \"hideFromFrontpage\",\n};\n\nconst props = defineProps<{\n    eventId: string;\n    id?: string;\n}>();\n\nconst { t } = useI18n();\nconst router = useRouter();\nconst toast = useToast();\nconst { getEventById } = useEvents();\n\nconst loading = ref(false);\nconst saving = ref(false);\nconst compoName = ref<string>(\"\");\nconst eventId = computed(() => parseInt(props.eventId, 10));\nconst isEditMode = computed(() => props.id !== undefined);\n\nconst breadcrumbs = computed<BreadcrumbItem[]>(() => {\n    const items: BreadcrumbItem[] = [\n        {\n            title: getEventById(eventId.value)?.name ?? \"...\",\n            to: { name: \"dashboard\", params: { eventId: props.eventId } },\n        },\n        {\n            title: t(\"ComposView.title\"),\n            to: { name: \"compos\", params: { eventId: props.eventId } },\n        },\n    ];\n    if (isEditMode.value) {\n        items.push({ title: compoName.value || \"...\", disabled: true });\n    } else {\n        items.push({ title: t(\"Breadcrumbs.newCompo\"), disabled: true });\n    }\n    return items;\n});\n\nconst entryViewTypeOptions = [\n    {\n        title: t(\"CompoEditView.entryViewTypes.0.title\"),\n        description: t(\"CompoEditView.entryViewTypes.0.description\"),\n        value: 0,\n    },\n    {\n        title: t(\"CompoEditView.entryViewTypes.1.title\"),\n        description: t(\"CompoEditView.entryViewTypes.1.description\"),\n        value: 1,\n    },\n    {\n        title: t(\"CompoEditView.entryViewTypes.2.title\"),\n        description: t(\"CompoEditView.entryViewTypes.2.description\"),\n        value: 2,\n    },\n];\n\nconst thumbnailPrefOptions = [\n    {\n        title: t(\"CompoEditView.thumbnailPrefs.0.title\"),\n        description: t(\"CompoEditView.thumbnailPrefs.0.description\"),\n        value: 0,\n    },\n    {\n        title: t(\"CompoEditView.thumbnailPrefs.1.title\"),\n        description: t(\"CompoEditView.thumbnailPrefs.1.description\"),\n        value: 1,\n    },\n    {\n        title: t(\"CompoEditView.thumbnailPrefs.2.title\"),\n        description: t(\"CompoEditView.thumbnailPrefs.2.description\"),\n        value: 2,\n    },\n    {\n        title: t(\"CompoEditView.thumbnailPrefs.3.title\"),\n        description: t(\"CompoEditView.thumbnailPrefs.3.description\"),\n        value: 3,\n    },\n];\n\n// Size unit options and conversion\ntype SizeUnit = \"B\" | \"KB\" | \"MB\" | \"GB\";\nconst sizeUnitOptions: SizeUnit[] = [\"B\", \"KB\", \"MB\", \"GB\"];\nconst sizeMultipliers: Record<SizeUnit, number> = {\n    B: 1,\n    KB: 1024,\n    MB: 1024 * 1024,\n    GB: 1024 * 1024 * 1024,\n};\n\nconst entrySizeUnit = ref<SizeUnit>(\"MB\");\nconst sourceSizeUnit = ref<SizeUnit>(\"MB\");\n\n// Convert bytes to display value based on unit\nfunction bytesToUnit(bytes: number | null, unit: SizeUnit): number | null {\n    if (bytes === null || bytes === undefined) return null;\n    return Math.round((bytes / sizeMultipliers[unit]) * 100) / 100;\n}\n\n// Convert display value to bytes based on unit\nfunction unitToBytes(value: number | null, unit: SizeUnit): number | null {\n    if (value === null || value === undefined) return null;\n    return Math.round(value * sizeMultipliers[unit]);\n}\n\n// Determine best unit for a byte value\nfunction bestUnitForBytes(bytes: number | null): SizeUnit {\n    if (bytes === null || bytes === undefined || bytes === 0) return \"MB\";\n    if (bytes >= sizeMultipliers.GB) return \"GB\";\n    if (bytes >= sizeMultipliers.MB) return \"MB\";\n    if (bytes >= sizeMultipliers.KB) return \"KB\";\n    return \"B\";\n}\n\n// Computed properties for size values\nconst entrySizeValue = computed({\n    get: () => bytesToUnit(entrySizelimit.value.value, entrySizeUnit.value),\n    set: (val) => {\n        entrySizelimit.value.value = unitToBytes(val, entrySizeUnit.value);\n    },\n});\n\nconst sourceSizeValue = computed({\n    get: () => bytesToUnit(sourceSizelimit.value.value, sourceSizeUnit.value),\n    set: (val) => {\n        sourceSizelimit.value.value = unitToBytes(val, sourceSizeUnit.value);\n    },\n});\n\n// Common file formats\nconst commonEntryFormats = [\"zip\", \"7z\", \"rar\", \"tar.gz\", \"exe\", \"com\", \"prg\", \"d64\", \"sid\"];\nconst commonSourceFormats = [\"zip\", \"7z\", \"rar\", \"tar.gz\"];\nconst commonImageFormats = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\", \"bmp\"];\n\n// Computed properties for format arrays (pipe-separated string <-> array)\nconst formatsArray = computed({\n    get: () => (formats.value.value ? formats.value.value.split(\"|\").filter(Boolean) : []),\n    set: (val: string[]) => {\n        formats.value.value = val.join(\"|\");\n    },\n});\n\nconst sourceFormatsArray = computed({\n    get: () =>\n        sourceFormats.value.value ? sourceFormats.value.value.split(\"|\").filter(Boolean) : [],\n    set: (val: string[]) => {\n        sourceFormats.value.value = val.join(\"|\");\n    },\n});\n\nconst imageFormatsArray = computed({\n    get: () =>\n        imageFormats.value.value ? imageFormats.value.value.split(\"|\").filter(Boolean) : [],\n    set: (val: string[]) => {\n        imageFormats.value.value = val.join(\"|\");\n    },\n});\n\n// Form validation\nconst validationSchema = yupObject({\n    name: yupString().required().min(1).max(32),\n    description: yupString(),\n    addingEnd: yupString().required(),\n    editingEnd: yupString().required(),\n    compoStart: yupString().required(),\n    votingStart: yupString().required(),\n    votingEnd: yupString().required(),\n    entrySizelimit: yupNumber().nullable(),\n    sourceSizelimit: yupNumber().nullable(),\n    formats: yupString(),\n    sourceFormats: yupString(),\n    imageFormats: yupString(),\n    active: yupBoolean(),\n    showVotingResults: yupBoolean(),\n    isVotable: yupBoolean(),\n    entryViewType: yupNumber(),\n    thumbnailPref: yupNumber(),\n    hideFromArchive: yupBoolean(),\n    hideFromFrontpage: yupBoolean(),\n});\n\nconst { handleSubmit, setValues, setErrors, meta } = useForm({\n    validationSchema,\n    initialValues: {\n        name: \"\",\n        description: \"\",\n        addingEnd: \"\",\n        editingEnd: \"\",\n        compoStart: \"\",\n        votingStart: \"\",\n        votingEnd: \"\",\n        entrySizelimit: null as number | null,\n        sourceSizelimit: null as number | null,\n        formats: \"\",\n        sourceFormats: \"\",\n        imageFormats: \"\",\n        active: true,\n        showVotingResults: false,\n        isVotable: true,\n        entryViewType: 0,\n        thumbnailPref: 0,\n        hideFromArchive: false,\n        hideFromFrontpage: false,\n    },\n});\n\nconst name = useField<string>(\"name\");\nconst description = useField<string>(\"description\");\nconst addingEnd = useField<string>(\"addingEnd\");\nconst editingEnd = useField<string>(\"editingEnd\");\nconst compoStart = useField<string>(\"compoStart\");\nconst votingStart = useField<string>(\"votingStart\");\nconst votingEnd = useField<string>(\"votingEnd\");\nconst entrySizelimit = useField<number | null>(\"entrySizelimit\");\nconst sourceSizelimit = useField<number | null>(\"sourceSizelimit\");\nconst formats = useField<string>(\"formats\");\nconst sourceFormats = useField<string>(\"sourceFormats\");\nconst imageFormats = useField<string>(\"imageFormats\");\nconst active = useField<boolean>(\"active\");\nconst showVotingResults = useField<boolean>(\"showVotingResults\");\nconst isVotable = useField<boolean>(\"isVotable\");\nconst entryViewType = useField<number>(\"entryViewType\");\nconst thumbnailPref = useField<number>(\"thumbnailPref\");\nconst hideFromArchive = useField<boolean>(\"hideFromArchive\");\nconst hideFromFrontpage = useField<boolean>(\"hideFromFrontpage\");\n\n// Inverted computed properties: toggle ON = visible (stores false in hideFrom fields)\nconst showInArchive = computed({\n    get: () => !hideFromArchive.value.value,\n    set: (val: boolean) => {\n        hideFromArchive.value.value = !val;\n    },\n});\nconst showOnFrontpage = computed({\n    get: () => !hideFromFrontpage.value.value,\n    set: (val: boolean) => {\n        hideFromFrontpage.value.value = !val;\n    },\n});\n\nconst submit = handleSubmit(async (values) => {\n    saving.value = true;\n    let ok: boolean;\n    if (isEditMode.value) {\n        ok = await editItem(parseInt(props.id!, 10), values);\n    } else {\n        ok = await createItem(values);\n    }\n    saving.value = false;\n    if (ok) {\n        goBack();\n    }\n});\n\nfunction buildBody(values: GenericObject) {\n    return {\n        name: values.name,\n        description: values.description || \"\",\n        adding_end: toISODatetime(values.addingEnd)!,\n        editing_end: toISODatetime(values.editingEnd)!,\n        compo_start: toISODatetime(values.compoStart)!,\n        voting_start: toISODatetime(values.votingStart)!,\n        voting_end: toISODatetime(values.votingEnd)!,\n        entry_sizelimit: values.entrySizelimit,\n        source_sizelimit: values.sourceSizelimit,\n        formats: values.formats || \"\",\n        source_formats: values.sourceFormats || \"\",\n        image_formats: values.imageFormats || \"\",\n        active: values.active,\n        show_voting_results: values.showVotingResults,\n        is_votable: values.isVotable,\n        entry_view_type: values.entryViewType,\n        thumbnail_pref: values.thumbnailPref,\n        hide_from_archive: values.hideFromArchive,\n        hide_from_frontpage: values.hideFromFrontpage,\n    };\n}\n\nasync function createItem(values: GenericObject) {\n    try {\n        await api.adminEventKompomaattiComposCreate({\n            path: { event_pk: eventId.value },\n            body: buildBody(values),\n        });\n        toast.success(t(\"CompoEditView.createSuccess\"));\n        return true;\n    } catch (e) {\n        handleApiError(e, setErrors, toast, t(\"CompoEditView.createFailure\"), API_FIELD_MAPPING);\n    }\n    return false;\n}\n\nasync function editItem(itemId: number, values: GenericObject) {\n    try {\n        await api.adminEventKompomaattiComposPartialUpdate({\n            path: { event_pk: eventId.value, id: itemId },\n            body: buildBody(values),\n        });\n        toast.success(t(\"CompoEditView.editSuccess\"));\n        return true;\n    } catch (e) {\n        handleApiError(e, setErrors, toast, t(\"CompoEditView.editFailure\"), API_FIELD_MAPPING);\n    }\n    return false;\n}\n\nfunction goBack() {\n    router.push({ name: \"compos\", params: { eventId: props.eventId } });\n}\n\nonMounted(async () => {\n    if (isEditMode.value) {\n        loading.value = true;\n        try {\n            const response = await api.adminEventKompomaattiComposRetrieve({\n                path: { event_pk: eventId.value, id: parseInt(props.id!, 10) },\n            });\n            const item = response.data!;\n            compoName.value = item.name;\n            // Set appropriate units for file sizes\n            entrySizeUnit.value = bestUnitForBytes(item.entry_sizelimit ?? null);\n            sourceSizeUnit.value = bestUnitForBytes(item.source_sizelimit ?? null);\n            setValues({\n                name: item.name,\n                description: item.description ?? \"\",\n                addingEnd: toLocalDatetime(item.adding_end),\n                editingEnd: toLocalDatetime(item.editing_end),\n                compoStart: toLocalDatetime(item.compo_start),\n                votingStart: toLocalDatetime(item.voting_start),\n                votingEnd: toLocalDatetime(item.voting_end),\n                entrySizelimit: item.entry_sizelimit ?? null,\n                sourceSizelimit: item.source_sizelimit ?? null,\n                formats: item.formats ?? \"\",\n                sourceFormats: item.source_formats ?? \"\",\n                imageFormats: item.image_formats ?? \"\",\n                active: item.active ?? true,\n                showVotingResults: item.show_voting_results ?? false,\n                isVotable: item.is_votable ?? true,\n                entryViewType: item.entry_view_type ?? 0,\n                thumbnailPref: item.thumbnail_pref ?? 0,\n                hideFromArchive: item.hide_from_archive ?? false,\n                hideFromFrontpage: item.hide_from_frontpage ?? false,\n            });\n        } catch (e) {\n            toast.error(t(\"CompoEditView.loadFailure\"));\n            console.error(e);\n            goBack();\n        } finally {\n            loading.value = false;\n        }\n    }\n});\n</script>\n"],"names":["API_FIELD_MAPPING","props","__props","t","useI18n","router","useRouter","toast","useToast","getEventById","useEvents","loading","ref","saving","compoName","eventId","computed","parseInt","isEditMode","breadcrumbs","items","entryViewTypeOptions","thumbnailPrefOptions","sizeUnitOptions","sizeMultipliers","entrySizeUnit","sourceSizeUnit","bytesToUnit","bytes","unit","unitToBytes","value","bestUnitForBytes","entrySizeValue","entrySizelimit","val","sourceSizeValue","sourceSizelimit","commonEntryFormats","commonSourceFormats","commonImageFormats","formatsArray","formats","sourceFormatsArray","sourceFormats","imageFormatsArray","imageFormats","validationSchema","yupObject","yupString","yupNumber","yupBoolean","handleSubmit","setValues","setErrors","meta","useForm","name","useField","description","addingEnd","editingEnd","compoStart","votingStart","votingEnd","active","showVotingResults","isVotable","entryViewType","thumbnailPref","hideFromArchive","hideFromFrontpage","showInArchive","showOnFrontpage","submit","values","ok","editItem","createItem","goBack","buildBody","toISODatetime","api.adminEventKompomaattiComposCreate","e","handleApiError","itemId","api.adminEventKompomaattiComposPartialUpdate","onMounted","item","api.adminEventKompomaattiComposRetrieve","toLocalDatetime","_createBlock","LayoutBase","_component_v_col","_createVNode","_component_v_progress_circular","_component_v_card","_component_v_card_text","_component_v_form","_unref","_component_v_text_field","$event","_component_VuetifyTiptap","_openBlock","_createElementBlock","_hoisted_1","_toDisplayString","FormSection","_component_v_row","_createElementVNode","_hoisted_2","_component_v_select","_hoisted_3","_component_v_combobox","_withCtx","itemProps","_component_v_list_item","_component_v_list_item_subtitle","ToggleSwitch","_component_v_card_actions","_component_v_btn","FontAwesomeIcon","faSave","_createTextVNode"],"mappings":"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"}