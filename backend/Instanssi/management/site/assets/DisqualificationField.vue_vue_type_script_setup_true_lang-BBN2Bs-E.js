import{aJ as Me,aK as Le,aL as Oe,aM as Ee,aN as Be,aO as W,aP as Te,aR as Ne,a1 as E,aS as Ke,aT as Ue,aU as $e,aV as ze,aW as qe,aX as Ge,m as J,e as c,f as x,aY as Z,aZ as He,F as Y,a_ as We,a$ as k,aB as Ye,aj as _,b0 as je,at as Je,b1 as Qe,b2 as Xe,b3 as Ze,b4 as ee,b5 as _e,b6 as el,Y as se,b7 as ll,i as al,aQ as I,G as V,s as B,b8 as tl,b9 as le,ba as ul,bb as ae,bc as nl,bp as te,bg as ol,bh as sl,d as il,a as rl,b as ue,g as ne,w as j,K as cl}from"./index-BSHMv_df.js";import{u as vl,m as dl,h as fl}from"./filter-C6Uu0LOB.js";import{V as ml}from"./VRow-BUBfmFS3.js";import{V as pl}from"./VSwitch-DkiL1OKS.js";import{V as oe}from"./LayoutBase.vue_vue_type_script_setup_true_lang-C8aKWyeJ.js";const hl=$e({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...dl({filterKeys:["title"]}),...Ge(),...ze(qe({modelValue:null,role:"combobox"}),["validationValue","dirty"])},"VAutocomplete"),Cl=Me()({name:"VAutocomplete",props:hl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,F){let{slots:o}=F;const{t:T}=Le(),f=B(),h=I(!1),m=I(!0),N=I(!1),Q=B(),K=B(),s=I(-1),w=I(null),{items:U,transformIn:ie,transformOut:re}=Oe(e),{textColorClasses:ce,textColorStyles:ve}=Ee(()=>f.value?.color),{InputIcon:de}=Be(e),r=W(e,"search",""),a=W(e,"modelValue",[],l=>ie(l===null?[null]:ol(l)),l=>{const u=re(l);return e.multiple?u:u[0]??null}),fe=V(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),S=Te(e),{filteredItems:$,getMatches:me}=vl(e,U,()=>w.value??(m.value?"":r.value)),b=V(()=>e.hideSelected&&w.value===null?$.value.filter(l=>!a.value.some(u=>u.value===l.value)):$.value),X=nl(()=>e.closableChips&&!S.isReadonly.value&&!S.isDisabled.value),M=V(()=>!!(e.chips||o.chip)),D=V(()=>M.value||!!o.selection),pe=V(()=>a.value.map(l=>l.props.value)),A=V(()=>b.value.find(l=>l.type==="item"&&!l.props.disabled)),z=V(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&r.value===A.value?.title)&&b.value.length>0&&!m.value&&!N.value),L=V(()=>e.hideNoData&&!b.value.length||S.isReadonly.value||S.isDisabled.value),q=W(e,"menu"),v=V({get:()=>q.value,set:l=>{q.value&&!l&&Q.value?.Î¨openChildren.size||l&&L.value||(q.value=l)}}),{menuId:he,ariaExpanded:ge,ariaControls:Ve}=Ne(e,v),G=B(),be=tl(G,f);function ye(l){e.openOnClear&&(v.value=!0),r.value=""}function ke(){L.value||(v.value=!0)}function Ce(l){L.value||(h.value&&(l.preventDefault(),l.stopPropagation()),v.value=!v.value)}function we(l){(le(l)||l.key==="Backspace")&&f.value?.focus()}function Se(l){if(S.isReadonly.value)return;const u=f.value?.selectionStart,d=a.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(v.value=!0),["Escape"].includes(l.key)&&(v.value=!1),z.value&&["Enter","Tab"].includes(l.key)&&A.value&&!a.value.some(n=>{let{value:p}=n;return p===A.value.value})&&C(A.value),l.key==="ArrowDown"&&z.value&&G.value?.focus("next"),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&D.value&&a.value.length>0&&!r.value)return C(a.value[0],!1);if(~s.value){l.preventDefault();const n=s.value;C(a.value[s.value],!1),s.value=n>=d-1?d-2:n}else l.key==="Backspace"&&!r.value&&(s.value=d-1);return}if(e.multiple)if(l.key==="ArrowLeft"){if(s.value<0&&u&&u>0)return;const n=s.value>-1?s.value-1:d-1;if(a.value[n])s.value=n;else{const p=r.value?.length??null;s.value=-1,f.value?.setSelectionRange(p,p)}}else if(l.key==="ArrowRight"){if(s.value<0)return;const n=s.value+1;a.value[n]?s.value=n:(s.value=-1,f.value?.setSelectionRange(0,0))}else~s.value&&le(l)&&(s.value=-1)}function xe(l){if(te(f.value,":autofill")||te(f.value,":-webkit-autofill")){const u=U.value.find(d=>d.title===l.target.value);u&&C(u)}}function Ie(){e.eager&&K.value?.calculateVisibleItems()}function Fe(){h.value&&(m.value=!0,f.value?.focus()),w.value=null}function De(l){h.value=!0,setTimeout(()=>{N.value=!0})}function Ae(l){N.value=!1}function Pe(l){(l==null||l===""&&!e.multiple&&!D.value)&&(a.value=[])}const H=I(!1);function C(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!l||l.props.disabled))if(e.multiple){const d=a.value.findIndex(p=>(e.valueComparator||ul)(p.value,l.value)),n=u??!~d;if(~d){const p=n?[...a.value,l]:[...a.value];p.splice(d,1),a.value=p}else n&&(a.value=[...a.value,l]);e.clearOnSelect&&(r.value="")}else{const d=u!==!1;a.value=d?[l]:[],w.value=m.value?"":r.value??"",r.value=d&&!D.value?l.title:"",ae(()=>{v.value=!1,m.value=!0})}}return E(h,(l,u)=>{l!==u&&(l?(H.value=!0,r.value=e.multiple||D.value?"":String(a.value.at(-1)?.props.title??""),m.value=!0,ae(()=>H.value=!1)):(!e.multiple&&r.value==null&&(a.value=[]),v.value=!1,!m.value&&r.value&&(w.value=r.value),r.value="",s.value=-1))}),E(r,l=>{!h.value||H.value||(l&&(v.value=!0),m.value=!l)}),E(v,l=>{if(!e.hideSelected&&l&&a.value.length&&m.value){const u=b.value.findIndex(d=>a.value.some(n=>d.value===n.value));sl&&window.requestAnimationFrame(()=>{u>=0&&K.value?.scrollToIndex(u)})}l&&(w.value=null)}),E(U,(l,u)=>{v.value||h.value&&!u.length&&l.length&&(v.value=!0)}),Ke(()=>{const l=!!(!e.hideNoData||b.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),u=a.value.length>0,d=J.filterProps(e);return c(J,k({ref:f},d,{modelValue:r.value,"onUpdate:modelValue":[n=>r.value=n,Pe],focused:h.value,"onUpdate:focused":n=>h.value=n,validationValue:a.externalValue,counterValue:fe.value,dirty:u,onChange:xe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":v.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:u?void 0:e.placeholder,"onClick:clear":ye,"onMousedown:control":ke,onKeydown:Se,"aria-expanded":ge.value,"aria-controls":Ve.value}),{...o,default:n=>{let{id:p}=n;return x(Y,null,[c(We,k({id:he.value,ref:Q,modelValue:v.value,"onUpdate:modelValue":i=>v.value=i,activator:"parent",contentClass:"v-autocomplete__content",disabled:L.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Ie,onAfterLeave:Fe},e.menuProps),{default:()=>[l&&c(Ye,k({ref:G,filterable:!0,selected:pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:we,onFocusin:De,onFocusout:Ae,tabindex:"-1",selectable:!!b.value.length,"aria-live":"polite","aria-labelledby":`${p.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},be,e.listProps),{default:()=>[o["prepend-item"]?.(),!b.value.length&&!e.hideNoData&&(o["no-data"]?.()??c(_,{key:"no-data",title:T(e.noDataText)},null)),c(je,{ref:K,renderless:!0,items:b.value,itemKey:"value"},{default:i=>{let{item:t,index:y,itemRef:O}=i;const P=k(t.props,{ref:O,key:t.value,active:z.value&&t===A.value?!0:void 0,onClick:()=>C(t,null),"aria-posinset":y+1,"aria-setsize":b.value.length});return t.type==="divider"?o.divider?.({props:t.raw,index:y})??c(Je,k(t.props,{key:`divider-${y}`}),null):t.type==="subheader"?o.subheader?.({props:t.raw,index:y})??c(Qe,k(t.props,{key:`subheader-${y}`}),null):o.item?.({item:t,index:y,props:P})??c(_,k(P,{role:"option"}),{prepend:R=>{let{isSelected:g}=R;return x(Y,null,[e.multiple&&!e.hideSelected?c(Xe,{key:t.value,modelValue:g,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:Re=>Re.preventDefault()},null):void 0,t.props.prependAvatar&&c(Ze,{image:t.props.prependAvatar},null),t.props.prependIcon&&c(Z,{icon:t.props.prependIcon},null)])},title:()=>m.value?t.title:fl("v-autocomplete",t.title,me(t)?.title)})}}),o["append-item"]?.()]})]}),a.value.map((i,t)=>{function y(g){g.stopPropagation(),g.preventDefault(),C(i,!1)}const O=k(ee.filterProps(i.props),{"onClick:close":y,onKeydown(g){g.key!=="Enter"&&g.key!==" "||(g.preventDefault(),g.stopPropagation(),y(g))},onMousedown(g){g.preventDefault(),g.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),P=M.value?!!o.chip:!!o.selection,R=P?_e(M.value?o.chip({item:i,index:t,props:O}):o.selection({item:i,index:t})):void 0;if(!(P&&!R))return x("div",{key:i.value,class:se(["v-autocomplete__selection",t===s.value&&["v-autocomplete__selection--selected",ce.value]]),style:el(t===s.value?ve.value:{})},[M.value?o.chip?c(ll,{key:"chip-defaults",defaults:{VChip:{closable:X.value,size:"small",text:i.title}}},{default:()=>[R]}):c(ee,k({key:"chip",closable:X.value,size:"small",text:i.title,disabled:i.props.disabled},O),null):R??x("span",{class:"v-autocomplete__selection-text"},[i.title,e.multiple&&t<a.value.length-1&&x("span",{class:"v-autocomplete__selection-comma"},[al(",")])])])})])},"append-inner":function(){for(var n=arguments.length,p=new Array(n),i=0;i<n;i++)p[i]=arguments[i];return x(Y,null,[o["append-inner"]?.(...p),e.menuIcon?c(Z,{class:"v-autocomplete__menu-icon",color:f.value?.fieldIconColor,icon:e.menuIcon,onMousedown:Ce,onClick:He,"aria-hidden":!0,tabindex:"-1"},null):void 0,e.appendInnerIcon&&c(de,{key:"append-icon",name:"appendInner",color:p[0].iconColor.value},null)])}})}),Ue({isFocused:h,isPristine:m,menu:v,search:r,filteredItems:$,select:C},f)}}),wl=il({__name:"DisqualificationField",props:{modelValue:{type:Boolean},reason:{},errorMessage:{},reasonErrorMessage:{},labelOn:{},labelOff:{},reasonLabel:{}},emits:["update:modelValue","update:reason"],setup(e){const F=e,{t:o}=rl(),T=V(()=>F.modelValue?F.labelOn??o("General.disqualifiedOn"):F.labelOff??o("General.disqualifiedOff"));return(f,h)=>(ue(),ne(ml,{align:"center"},{default:j(()=>[c(oe,{cols:"12",md:e.modelValue?4:12},{default:j(()=>[c(pl,{"model-value":e.modelValue,"error-messages":e.errorMessage,label:T.value,color:"error","hide-details":"auto",class:se({"text-red-darken-3":e.modelValue}),"onUpdate:modelValue":h[0]||(h[0]=m=>f.$emit("update:modelValue",m??!1))},null,8,["model-value","error-messages","label","class"])]),_:1},8,["md"]),e.modelValue?(ue(),ne(oe,{key:0,cols:"12",md:"8"},{default:j(()=>[c(J,{"model-value":e.reason,"error-messages":e.reasonErrorMessage,variant:"outlined",label:e.reasonLabel,"hide-details":"auto","onUpdate:modelValue":h[1]||(h[1]=m=>f.$emit("update:reason",m))},null,8,["model-value","error-messages","label"])]),_:1})):cl("",!0)]),_:1}))}});export{Cl as V,wl as _};
//# sourceMappingURL=DisqualificationField.vue_vue_type_script_setup_true_lang-BBN2Bs-E.js.map
