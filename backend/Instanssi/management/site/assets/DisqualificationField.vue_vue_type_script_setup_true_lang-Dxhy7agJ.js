import{aT as Me,aU as Le,aV as Ee,aW as Oe,aX as Be,aY as W,aZ as Te,a$ as Ue,U as O,b0 as Ne,b1 as Ke,b2 as $e,b3 as qe,b4 as ze,b5 as Ge,m as Y,e as c,f as x,b6 as Q,b7 as He,F as j,b8 as We,b9 as k,aL as je,at as _,ba as Xe,aD as Ye,bb as Ze,bc as Je,bd as Qe,a4 as ee,be as _e,bf as el,aa as se,bg as ll,i as al,a_ as I,I as g,s as B,bh as tl,bi as le,bj as ul,bk as ae,bl as nl,bw as te,bp as ol,bq as sl,d as il,a as rl,b as ue,g as ne,w as X,D as cl}from"./index-DXU74lGt.js";import{u as vl,m as dl,h as fl}from"./VDataTable-Jd7io3gq.js";import{V as ml}from"./VRow-B94Tto0H.js";import{V as pl}from"./VSwitch-DB1fJMny.js";import{V as oe}from"./LayoutBase.vue_vue_type_script_setup_true_lang-D4jd1chv.js";const hl=$e({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...dl({filterKeys:["title"]}),...Ge(),...qe(ze({modelValue:null,role:"combobox"}),["validationValue","dirty"])},"VAutocomplete"),Cl=Me()({name:"VAutocomplete",props:hl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,D){let{slots:o}=D;const{t:T}=Le(),f=B(),h=I(!1),m=I(!0),U=I(!1),Z=B(),N=B(),s=I(-1),w=I(null),{items:K,transformIn:ie,transformOut:re}=Ee(e),{textColorClasses:ce,textColorStyles:ve}=Oe(()=>f.value?.color),{InputIcon:de}=Be(e),r=W(e,"search",""),a=W(e,"modelValue",[],l=>ie(l===null?[null]:ol(l)),l=>{const u=re(l);return e.multiple?u:u[0]??null}),fe=g(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),S=Te(e),{filteredItems:$,getMatches:me}=vl(e,K,()=>w.value??(m.value?"":r.value)),V=g(()=>e.hideSelected&&w.value===null?$.value.filter(l=>!a.value.some(u=>u.value===l.value)):$.value),J=nl(()=>e.closableChips&&!S.isReadonly.value&&!S.isDisabled.value),M=g(()=>!!(e.chips||o.chip)),F=g(()=>M.value||!!o.selection),pe=g(()=>a.value.map(l=>l.props.value)),A=g(()=>V.value.find(l=>l.type==="item"&&!l.props.disabled)),q=g(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&r.value===A.value?.title)&&V.value.length>0&&!m.value&&!U.value),L=g(()=>e.hideNoData&&!V.value.length||S.isReadonly.value||S.isDisabled.value),z=W(e,"menu"),v=g({get:()=>z.value,set:l=>{z.value&&!l&&Z.value?.Î¨openChildren.size||l&&L.value||(z.value=l)}}),{menuId:he,ariaExpanded:be,ariaControls:ge}=Ue(e,v),G=B(),Ve=tl(G,f);function ye(l){e.openOnClear&&(v.value=!0),r.value=""}function ke(){L.value||(v.value=!0)}function Ce(l){L.value||(h.value&&(l.preventDefault(),l.stopPropagation()),v.value=!v.value)}function we(l){(le(l)||l.key==="Backspace")&&f.value?.focus()}function Se(l){if(S.isReadonly.value)return;const u=f.value?.selectionStart,d=a.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(v.value=!0),["Escape"].includes(l.key)&&(v.value=!1),q.value&&["Enter","Tab"].includes(l.key)&&A.value&&!a.value.some(n=>{let{value:p}=n;return p===A.value.value})&&C(A.value),l.key==="ArrowDown"&&q.value&&G.value?.focus("next"),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&F.value&&a.value.length>0&&!r.value)return C(a.value[0],!1);if(~s.value){l.preventDefault();const n=s.value;C(a.value[s.value],!1),s.value=n>=d-1?d-2:n}else l.key==="Backspace"&&!r.value&&(s.value=d-1);return}if(e.multiple)if(l.key==="ArrowLeft"){if(s.value<0&&u&&u>0)return;const n=s.value>-1?s.value-1:d-1;if(a.value[n])s.value=n;else{const p=r.value?.length??null;s.value=-1,f.value?.setSelectionRange(p,p)}}else if(l.key==="ArrowRight"){if(s.value<0)return;const n=s.value+1;a.value[n]?s.value=n:(s.value=-1,f.value?.setSelectionRange(0,0))}else~s.value&&le(l)&&(s.value=-1)}function xe(l){if(te(f.value,":autofill")||te(f.value,":-webkit-autofill")){const u=K.value.find(d=>d.title===l.target.value);u&&C(u)}}function Ie(){e.eager&&N.value?.calculateVisibleItems()}function De(){h.value&&(m.value=!0,f.value?.focus()),w.value=null}function Fe(l){h.value=!0,setTimeout(()=>{U.value=!0})}function Ae(l){U.value=!1}function Pe(l){(l==null||l===""&&!e.multiple&&!F.value)&&(a.value=[])}const H=I(!1);function C(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!l||l.props.disabled))if(e.multiple){const d=a.value.findIndex(p=>(e.valueComparator||ul)(p.value,l.value)),n=u??!~d;if(~d){const p=n?[...a.value,l]:[...a.value];p.splice(d,1),a.value=p}else n&&(a.value=[...a.value,l]);e.clearOnSelect&&(r.value="")}else{const d=u!==!1;a.value=d?[l]:[],w.value=m.value?"":r.value??"",r.value=d&&!F.value?l.title:"",ae(()=>{v.value=!1,m.value=!0})}}return O(h,(l,u)=>{l!==u&&(l?(H.value=!0,r.value=e.multiple||F.value?"":String(a.value.at(-1)?.props.title??""),m.value=!0,ae(()=>H.value=!1)):(!e.multiple&&r.value==null&&(a.value=[]),v.value=!1,!m.value&&r.value&&(w.value=r.value),r.value="",s.value=-1))}),O(r,l=>{!h.value||H.value||(l&&(v.value=!0),m.value=!l)}),O(v,l=>{if(!e.hideSelected&&l&&a.value.length&&m.value){const u=V.value.findIndex(d=>a.value.some(n=>d.value===n.value));sl&&window.requestAnimationFrame(()=>{u>=0&&N.value?.scrollToIndex(u)})}l&&(w.value=null)}),O(K,(l,u)=>{v.value||h.value&&!u.length&&l.length&&(v.value=!0)}),Ne(()=>{const l=!!(!e.hideNoData||V.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),u=a.value.length>0,d=Y.filterProps(e);return c(Y,k({ref:f},d,{modelValue:r.value,"onUpdate:modelValue":[n=>r.value=n,Pe],focused:h.value,"onUpdate:focused":n=>h.value=n,validationValue:a.externalValue,counterValue:fe.value,dirty:u,onChange:xe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":v.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!F.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:u?void 0:e.placeholder,"onClick:clear":ye,"onMousedown:control":ke,onKeydown:Se,"aria-expanded":be.value,"aria-controls":ge.value}),{...o,default:n=>{let{id:p}=n;return x(j,null,[c(We,k({id:he.value,ref:Z,modelValue:v.value,"onUpdate:modelValue":i=>v.value=i,activator:"parent",contentClass:"v-autocomplete__content",disabled:L.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Ie,onAfterLeave:De},e.menuProps),{default:()=>[l&&c(je,k({ref:G,filterable:!0,selected:pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:we,onFocusin:Fe,onFocusout:Ae,tabindex:"-1",selectable:!!V.value.length,"aria-live":"polite","aria-labelledby":`${p.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},Ve,e.listProps),{default:()=>[o["prepend-item"]?.(),!V.value.length&&!e.hideNoData&&(o["no-data"]?.()??c(_,{key:"no-data",title:T(e.noDataText)},null)),c(Xe,{ref:N,renderless:!0,items:V.value,itemKey:"value"},{default:i=>{let{item:t,index:y,itemRef:E}=i;const P=k(t.props,{ref:E,key:t.value,active:q.value&&t===A.value?!0:void 0,onClick:()=>C(t,null),"aria-posinset":y+1,"aria-setsize":V.value.length});return t.type==="divider"?o.divider?.({props:t.raw,index:y})??c(Ye,k(t.props,{key:`divider-${y}`}),null):t.type==="subheader"?o.subheader?.({props:t.raw,index:y})??c(Ze,k(t.props,{key:`subheader-${y}`}),null):o.item?.({item:t,index:y,props:P})??c(_,k(P,{role:"option"}),{prepend:R=>{let{isSelected:b}=R;return x(j,null,[e.multiple&&!e.hideSelected?c(Je,{key:t.value,modelValue:b,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:Re=>Re.preventDefault()},null):void 0,t.props.prependAvatar&&c(Qe,{image:t.props.prependAvatar},null),t.props.prependIcon&&c(Q,{icon:t.props.prependIcon},null)])},title:()=>m.value?t.title:fl("v-autocomplete",t.title,me(t)?.title)})}}),o["append-item"]?.()]})]}),a.value.map((i,t)=>{function y(b){b.stopPropagation(),b.preventDefault(),C(i,!1)}const E=k(ee.filterProps(i.props),{"onClick:close":y,onKeydown(b){b.key!=="Enter"&&b.key!==" "||(b.preventDefault(),b.stopPropagation(),y(b))},onMousedown(b){b.preventDefault(),b.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),P=M.value?!!o.chip:!!o.selection,R=P?_e(M.value?o.chip({item:i,index:t,props:E}):o.selection({item:i,index:t})):void 0;if(!(P&&!R))return x("div",{key:i.value,class:se(["v-autocomplete__selection",t===s.value&&["v-autocomplete__selection--selected",ce.value]]),style:el(t===s.value?ve.value:{})},[M.value?o.chip?c(ll,{key:"chip-defaults",defaults:{VChip:{closable:J.value,size:"small",text:i.title}}},{default:()=>[R]}):c(ee,k({key:"chip",closable:J.value,size:"small",text:i.title,disabled:i.props.disabled},E),null):R??x("span",{class:"v-autocomplete__selection-text"},[i.title,e.multiple&&t<a.value.length-1&&x("span",{class:"v-autocomplete__selection-comma"},[al(",")])])])})])},"append-inner":function(){for(var n=arguments.length,p=new Array(n),i=0;i<n;i++)p[i]=arguments[i];return x(j,null,[o["append-inner"]?.(...p),e.menuIcon?c(Q,{class:"v-autocomplete__menu-icon",color:f.value?.fieldIconColor,icon:e.menuIcon,onMousedown:Ce,onClick:He,"aria-hidden":!0,tabindex:"-1"},null):void 0,e.appendInnerIcon&&c(de,{key:"append-icon",name:"appendInner",color:p[0].iconColor.value},null)])}})}),Ke({isFocused:h,isPristine:m,menu:v,search:r,filteredItems:$,select:C},f)}}),wl=il({__name:"DisqualificationField",props:{modelValue:{type:Boolean},reason:{},errorMessage:{},reasonErrorMessage:{},labelOn:{},labelOff:{},reasonLabel:{}},emits:["update:modelValue","update:reason"],setup(e){const D=e,{t:o}=rl(),T=g(()=>D.modelValue?D.labelOn??o("General.disqualifiedOn"):D.labelOff??o("General.disqualifiedOff"));return(f,h)=>(ue(),ne(ml,{align:"center"},{default:X(()=>[c(oe,{cols:"12",md:e.modelValue?4:12},{default:X(()=>[c(pl,{"model-value":e.modelValue,"error-messages":e.errorMessage,label:T.value,color:"error","hide-details":"auto",class:se({"text-red-darken-3":e.modelValue}),"onUpdate:modelValue":h[0]||(h[0]=m=>f.$emit("update:modelValue",m??!1))},null,8,["model-value","error-messages","label","class"])]),_:1},8,["md"]),e.modelValue?(ue(),ne(oe,{key:0,cols:"12",md:"8"},{default:X(()=>[c(Y,{"model-value":e.reason,"error-messages":e.reasonErrorMessage,variant:"outlined",label:e.reasonLabel,"hide-details":"auto","onUpdate:modelValue":h[1]||(h[1]=m=>f.$emit("update:reason",m))},null,8,["model-value","error-messages","label"])]),_:1})):cl("",!0)]),_:1}))}});export{Cl as V,wl as _};
//# sourceMappingURL=DisqualificationField.vue_vue_type_script_setup_true_lang-Dxhy7agJ.js.map
