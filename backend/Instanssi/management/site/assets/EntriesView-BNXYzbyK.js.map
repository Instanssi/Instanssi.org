{"version":3,"file":"EntriesView-BNXYzbyK.js","sources":["../../../../../admin/src/views/kompomaatti/EntriesView.vue"],"sourcesContent":["<template>\n    <LayoutBase :key=\"`entries-${eventId}`\" :breadcrumbs=\"breadcrumbs\">\n        <v-col>\n            <v-row>\n                <v-btn\n                    v-if=\"auth.canAdd(PermissionTarget.ENTRY)\"\n                    color=\"primary\"\n                    @click=\"createEntry\"\n                >\n                    <template #prepend>\n                        <FontAwesomeIcon :icon=\"faPlus\" />\n                    </template>\n                    {{ t(\"EntriesView.newEntry\") }}\n                </v-btn>\n                <div v-if=\"auth.canView(PermissionTarget.ENTRY)\" class=\"ml-4\">\n                    <ExportButton\n                        :label=\"t('EntriesView.exportResults')\"\n                        :loading=\"exportLoading\"\n                        @export=\"downloadResults\"\n                    />\n                </div>\n                <v-select\n                    v-model=\"selectedCompo\"\n                    :items=\"compoOptions\"\n                    variant=\"outlined\"\n                    density=\"compact\"\n                    :label=\"t('EntriesView.filterByCompo')\"\n                    style=\"max-width: 300px\"\n                    class=\"ma-0 pa-0 ml-4\"\n                    clearable\n                />\n                <v-text-field\n                    v-model=\"search\"\n                    variant=\"outlined\"\n                    density=\"compact\"\n                    :label=\"t('General.search')\"\n                    style=\"max-width: 400px\"\n                    class=\"ma-0 pa-0 ml-4\"\n                    clearable\n                />\n            </v-row>\n        </v-col>\n        <v-col>\n            <v-row>\n                <v-data-table-server\n                    v-model:items-per-page=\"perPage\"\n                    class=\"elevation-1 primary\"\n                    item-value=\"id\"\n                    density=\"compact\"\n                    :headers=\"headers\"\n                    :items=\"entries\"\n                    :items-length=\"totalItems\"\n                    :loading=\"loading\"\n                    :search=\"search\"\n                    :page=\"currentPage\"\n                    :items-per-page-options=\"pageSizeOptions\"\n                    :no-data-text=\"t('EntriesView.noEntriesFound')\"\n                    :loading-text=\"t('EntriesView.loadingEntries')\"\n                    @update:options=\"debouncedLoad\"\n                >\n                    <template #item.imagefile_thumbnail_url=\"{ item }\">\n                        <ImageCell :url=\"item.imagefile_thumbnail_url\" />\n                    </template>\n                    <template #item.entryfile_url=\"{ item }\">\n                        <MediaCell :url=\"item.entryfile_url\" />\n                    </template>\n                    <template #item.disqualified=\"{ item }\">\n                        <BooleanIcon\n                            :value=\"item.disqualified\"\n                            true-class=\"text-red\"\n                            false-class=\"text-green\"\n                        />\n                    </template>\n                    <template #item.compo=\"{ item }\">\n                        {{ getCompoName(item.compo) }}\n                    </template>\n                    <template #item.rank=\"{ item }\">\n                        {{ item.rank ?? \"-\" }}\n                    </template>\n                    <template #item.actions=\"{ item }\">\n                        <TableActionButtons\n                            :can-edit=\"auth.canChange(PermissionTarget.ENTRY)\"\n                            :can-delete=\"auth.canDelete(PermissionTarget.ENTRY)\"\n                            :audit-log=\"{\n                                appLabel: 'kompomaatti',\n                                model: 'entry',\n                                objectPk: item.id,\n                            }\"\n                            @edit=\"editEntry(item.id)\"\n                            @delete=\"deleteEntry(item)\"\n                        />\n                    </template>\n                </v-data-table-server>\n            </v-row>\n        </v-col>\n    </LayoutBase>\n</template>\n\n<script setup lang=\"ts\">\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { debounce, parseInt } from \"lodash-es\";\nimport { type Ref, computed, inject, onMounted, ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useRouter } from \"vue-router\";\nimport { useToast } from \"vue-toastification\";\nimport type { VDataTableServer, VDataTable } from \"vuetify/components\";\n\nimport * as api from \"@/api\";\nimport type { Compo, CompoEntry } from \"@/api\";\nimport BooleanIcon from \"@/components/table/BooleanIcon.vue\";\nimport ExportButton from \"@/components/form/ExportButton.vue\";\nimport ImageCell from \"@/components/table/ImageCell.vue\";\nimport LayoutBase, { type BreadcrumbItem } from \"@/components/layout/LayoutBase.vue\";\nimport MediaCell from \"@/components/table/MediaCell.vue\";\nimport TableActionButtons from \"@/components/table/TableActionButtons.vue\";\nimport { PermissionTarget, useAuth } from \"@/services/auth\";\nimport { useEvents } from \"@/services/events\";\nimport { type LoadArgs, getLoadArgs } from \"@/services/utils/query_tools\";\nimport { confirmDialogKey } from \"@/symbols\";\nimport type { ConfirmDialogType } from \"@/symbols\";\nimport { getApiErrorMessage } from \"@/utils/http\";\nimport { downloadSpreadsheet, type SpreadsheetFormat } from \"@/utils/spreadsheet\";\n\ntype ReadonlyHeaders = VDataTable[\"$props\"][\"headers\"];\n\nconst props = defineProps<{ eventId: string }>();\nconst { t } = useI18n();\nconst router = useRouter();\nconst confirmDialog: ConfirmDialogType = inject(confirmDialogKey)!;\nconst toast = useToast();\nconst auth = useAuth();\nconst { getEventById } = useEvents();\nconst eventId = computed(() => parseInt(props.eventId, 10));\nconst loading = ref(false);\nconst exportLoading = ref(false);\n\nconst breadcrumbs = computed<BreadcrumbItem[]>(() => [\n    {\n        title: getEventById(eventId.value)?.name ?? \"...\",\n        to: { name: \"dashboard\", params: { eventId: props.eventId } },\n    },\n    { title: t(\"EntriesView.title\"), disabled: true },\n]);\nconst pageSizeOptions = [25, 50, 100];\nconst perPage = ref(pageSizeOptions[0]);\nconst totalItems = ref(0);\nconst currentPage = ref(1);\nconst entries: Ref<CompoEntry[]> = ref([]);\nconst compos: Ref<Compo[]> = ref([]);\nconst search = ref(\"\");\nconst selectedCompo: Ref<number | null> = ref(null);\nconst lastLoadArgs: Ref<LoadArgs | null> = ref(null);\n\nconst headers: ReadonlyHeaders = [\n    {\n        title: t(\"EntriesView.headers.id\"),\n        sortable: true,\n        key: \"id\",\n    },\n    {\n        title: t(\"EntriesView.headers.image\"),\n        sortable: false,\n        key: \"imagefile_thumbnail_url\",\n        width: 60,\n    },\n    {\n        title: t(\"EntriesView.headers.name\"),\n        sortable: true,\n        key: \"name\",\n    },\n    {\n        title: t(\"EntriesView.headers.creator\"),\n        sortable: true,\n        key: \"creator\",\n    },\n    {\n        title: t(\"EntriesView.headers.entryfile\"),\n        sortable: false,\n        key: \"entryfile_url\",\n    },\n    {\n        title: t(\"EntriesView.headers.compo\"),\n        sortable: false,\n        key: \"compo\",\n    },\n    {\n        title: t(\"EntriesView.headers.disqualified\"),\n        sortable: false,\n        key: \"disqualified\",\n    },\n    {\n        title: t(\"EntriesView.headers.rank\"),\n        sortable: false,\n        key: \"rank\",\n    },\n    {\n        title: t(\"EntriesView.headers.actions\"),\n        sortable: false,\n        key: \"actions\",\n        align: \"end\",\n    },\n];\n\nconst compoOptions = computed(() => [\n    { title: t(\"EntriesView.allCompos\"), value: null },\n    ...compos.value.map((c) => ({ title: c.name, value: c.id })),\n]);\n\nfunction getCompoName(compoId: number): string {\n    const compo = compos.value.find((c) => c.id === compoId);\n    return compo?.name ?? `#${compoId}`;\n}\n\nfunction flushData() {\n    if (lastLoadArgs.value) {\n        load(lastLoadArgs.value);\n    }\n}\n\nasync function loadCompos() {\n    try {\n        const response = await api.adminEventKompomaattiComposList({\n            path: { event_pk: eventId.value },\n            query: { limit: 100 },\n        });\n        compos.value = response.data!.results;\n    } catch (e) {\n        console.error(\"Failed to load compos:\", e);\n    }\n}\n\nasync function load(args: LoadArgs) {\n    loading.value = true;\n    lastLoadArgs.value = args;\n    try {\n        const response = await api.adminEventKompomaattiEntriesList({\n            path: { event_pk: parseInt(props.eventId, 10) },\n            query: {\n                ...getLoadArgs(args),\n                ...(selectedCompo.value ? { compo: selectedCompo.value } : {}),\n            },\n        });\n        entries.value = response.data!.results;\n        totalItems.value = response.data!.count;\n    } catch (e) {\n        toast.error(t(\"EntriesView.loadFailure\"));\n        console.error(e);\n    } finally {\n        loading.value = false;\n    }\n}\n\nconst debouncedLoad = debounce(load, 250);\n\n// Reload when compo filter changes\nwatch(selectedCompo, () => {\n    if (lastLoadArgs.value) {\n        debouncedLoad(lastLoadArgs.value);\n    }\n});\n\nfunction refresh() {\n    selectedCompo.value = null;\n    search.value = \"\";\n    loadCompos();\n    debouncedLoad({\n        page: 1,\n        itemsPerPage: perPage.value ?? 25,\n        sortBy: [],\n        groupBy: [] as never,\n        search: \"\",\n    });\n}\n\n// Reload compos and entries when event changes\nwatch(eventId, refresh);\n\nasync function deleteEntry(item: CompoEntry): Promise<void> {\n    const text = t(\"EntriesView.confirmDelete\", item);\n    await confirmDialog.value!.ifConfirmed(text, async () => {\n        try {\n            await api.adminEventKompomaattiEntriesDestroy({\n                path: { event_pk: eventId.value, id: item.id },\n            });\n            toast.success(t(\"EntriesView.deleteSuccess\"));\n            flushData();\n        } catch (e) {\n            toast.error(getApiErrorMessage(e, t(\"EntriesView.deleteFailure\")));\n            console.error(e);\n        }\n    });\n}\n\nfunction editEntry(id: number): void {\n    router.push({ name: \"entries-edit\", params: { eventId: eventId.value, id } });\n}\n\nfunction createEntry(): void {\n    router.push({ name: \"entries-new\", params: { eventId: eventId.value } });\n}\n\n/**\n * Convert a rank number to Roman numerals (1 = I, 2 = II, 3 = III, etc.)\n */\nfunction toRomanNumeral(rank: number): string {\n    return \"I\".repeat(rank);\n}\n\n/**\n * Generate spreadsheet data with top 3 entries per compo for diploma generation.\n * Returns array of rows: [Entry Name, Creator, Placement, Compo Name]\n */\nfunction generateResultsData(allEntries: CompoEntry[]): Array<[string, string, string, string]> {\n    // Group entries by compo\n    const entriesByCompo = new Map<number, CompoEntry[]>();\n    for (const entry of allEntries) {\n        const compoEntries = entriesByCompo.get(entry.compo) ?? [];\n        compoEntries.push(entry);\n        entriesByCompo.set(entry.compo, compoEntries);\n    }\n\n    // Build rows: top 3 entries per compo, sorted by rank\n    const rows: Array<[string, string, string, string]> = [];\n    for (const compo of compos.value) {\n        const compoEntries = entriesByCompo.get(compo.id) ?? [];\n\n        // Sort by rank (entries without rank go to the end)\n        const sorted = [...compoEntries].sort((a, b) => {\n            if (a.rank === null && b.rank === null) return 0;\n            if (a.rank === null) return 1;\n            if (b.rank === null) return -1;\n            return a.rank - b.rank;\n        });\n\n        // Take top 3\n        const top3 = sorted.slice(0, 3);\n\n        for (const entry of top3) {\n            if (entry.rank === null) continue; // Skip unranked entries\n            rows.push([entry.name, entry.creator, toRomanNumeral(entry.rank), compo.name]);\n        }\n    }\n\n    return rows;\n}\n\n/**\n * Generate and download spreadsheet with top 3 entries per compo for diploma generation\n */\nasync function downloadResults(format: SpreadsheetFormat): Promise<void> {\n    exportLoading.value = true;\n    try {\n        const response = await api.adminEventKompomaattiEntriesList({\n            path: { event_pk: eventId.value },\n            query: { limit: 10000 },\n        });\n        const data = generateResultsData(response.data!.results);\n        downloadSpreadsheet(data, \"instanssi_entries\", format, \"Results\");\n        toast.success(t(\"EntriesView.exportSuccess\"));\n    } catch (e) {\n        toast.error(t(\"EntriesView.exportFailure\"));\n        console.error(e);\n    } finally {\n        exportLoading.value = false;\n    }\n}\n\nonMounted(() => {\n    loadCompos();\n});\n</script>\n"],"names":["props","__props","t","useI18n","router","useRouter","confirmDialog","inject","confirmDialogKey","toast","useToast","auth","useAuth","getEventById","useEvents","eventId","computed","parseInt","loading","ref","exportLoading","breadcrumbs","pageSizeOptions","perPage","totalItems","currentPage","entries","compos","search","selectedCompo","lastLoadArgs","headers","compoOptions","c","getCompoName","compoId","flushData","load","loadCompos","response","api.adminEventKompomaattiComposList","e","args","api.adminEventKompomaattiEntriesList","getLoadArgs","debouncedLoad","debounce","watch","refresh","deleteEntry","item","text","api.adminEventKompomaattiEntriesDestroy","getApiErrorMessage","editEntry","id","createEntry","toRomanNumeral","rank","generateResultsData","allEntries","entriesByCompo","entry","compoEntries","rows","compo","top3","a","downloadResults","format","data","downloadSpreadsheet","onMounted","_createBlock","LayoutBase","_createVNode","_component_v_col","_component_v_row","_unref","PermissionTarget","_component_v_btn","FontAwesomeIcon","faPlus","_createTextVNode","_openBlock","_createElementBlock","_hoisted_1","ExportButton","_component_v_select","$event","_component_v_text_field","_component_v_data_table_server","_withCtx","ImageCell","MediaCell","BooleanIcon","_toDisplayString","TableActionButtons"],"mappings":"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"}