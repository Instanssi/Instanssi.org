import{d as k,u as S,a as F,r as B,o as j,c as g,b as a,w as s,e,V as C,f as I,g as u,h as d,t as c,i as M,F as U,j as N,k as R,l as V,m as $,n as w,_ as q}from"./index-BRchJf3y.js";import{c as A,a as v,u as E,b as _,V as O}from"./VForm-V8UYkpqE.js";import{V as T,a as m}from"./VRow-CmSCnZ-N.js";const D={class:"d-flex align-center justify-center fill-height"},z={class:"d-flex justify-center"},G=k({__name:"LoginView",setup(H){const p=S(),b=I(),{t:r}=F(),f=B([]),y=A({username:v().required().min(1),password:v().required().min(1)}),{handleSubmit:h,setErrors:x}=E({validationSchema:y}),n=_("username"),l=_("password"),L=h(async i=>{await p.login(i.username,i.password)?await b.push({name:"index"}):x({username:"Incorrect username or password!",password:"Incorrect username or password!"})});return j(async()=>{f.value=await p.getSocialAuthURLs()}),(i,o)=>(u(),g("div",D,[a(C,{color:"grey-darken-4",class:"opacity-95",title:e(r)("LoginView.title")},{subtitle:s(()=>[d(c(e(r)("LoginView.subtitle")),1)]),text:s(()=>[M("div",z,[(u(!0),g(U,null,N(f.value,t=>(u(),R(V,{key:t.method,variant:"plain","prepend-icon":`fab fa-${t.method}`,href:t.url},{default:s(()=>[d(c(t.name),1)]),_:2},1032,["prepend-icon","href"]))),128))]),a(O,{class:"mt-4",onSubmit:$(e(L),["prevent"])},{default:s(()=>[a(T,{class:"ma-0 pa-0"},{default:s(()=>[a(m,{dense:"","no-gutters":"",class:"mb-2 mt-2"},{default:s(()=>[a(w,{modelValue:e(n).value.value,"onUpdate:modelValue":o[0]||(o[0]=t=>e(n).value.value=t),"error-messages":e(n).errorMessage.value,density:"compact",variant:"outlined",label:e(r)("LoginView.username")},null,8,["modelValue","error-messages","label"])]),_:1}),a(m,{dense:"","no-gutters":"",class:"mb-2 mt-2"},{default:s(()=>[a(w,{modelValue:e(l).value.value,"onUpdate:modelValue":o[1]||(o[1]=t=>e(l).value.value=t),"error-messages":e(l).errorMessage.value,type:"password",density:"compact",variant:"outlined",label:e(r)("LoginView.password")},null,8,["modelValue","error-messages","label"])]),_:1}),a(m,{dense:"","no-gutters":"",class:"justify-end"},{default:s(()=>[a(V,{type:"submit",color:"primary",variant:"elevated","prepend-icon":"fas fa-right-to-bracket"},{default:s(()=>[d(c(e(r)("LoginView.login")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["title"])]))}}),Q=q(G,[["__scopeId","data-v-2bcd3972"]]);export{Q as default};
//# sourceMappingURL=LoginView-Yx0nud9E.js.map
