{"version":3,"file":"MainView-BpAlnVCa.js","sources":["../../../../../admin/src/components/dashboard/charts/CompetitionParticipantsChart.vue","../../../../../admin/src/components/dashboard/charts/EntriesPerCompoChart.vue","../../../../../admin/src/components/dashboard/EventCountdown.vue","../../../../../admin/src/views/events/MainView.vue"],"sourcesContent":["<template>\n    <ChartCard\n        :title=\"t('MainView.charts.competitionParticipants')\"\n        :icon=\"faChartBar\"\n        :has-data=\"chartData.labels.length > 0\"\n        :no-data-text=\"t('MainView.charts.noData')\"\n    >\n        <Bar :data=\"chartData\" :options=\"chartOptions\" />\n    </ChartCard>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n    BarElement,\n    CategoryScale,\n    Chart as ChartJS,\n    Legend,\n    LinearScale,\n    Tooltip,\n} from \"chart.js\";\nimport { faChartBar } from \"@fortawesome/free-solid-svg-icons\";\nimport { computed } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { Bar } from \"vue-chartjs\";\n\nimport ChartCard from \"@/components/dashboard/ChartCard.vue\";\n\nChartJS.register(BarElement, CategoryScale, Legend, LinearScale, Tooltip);\n\nconst props = defineProps<{\n    competitions: Array<{ id: number; name: string }>;\n    participantCounts: Map<number, number>;\n}>();\n\nconst { t } = useI18n();\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n        legend: {\n            display: false,\n        },\n    },\n    scales: {\n        y: {\n            beginAtZero: true,\n            ticks: {\n                stepSize: 1,\n            },\n        },\n    },\n};\n\nconst chartData = computed(() => ({\n    labels: props.competitions.map((c) => c.name),\n    datasets: [\n        {\n            label: t(\"MainView.stats.participants\"),\n            data: props.competitions.map((c) => props.participantCounts.get(c.id) ?? 0),\n            backgroundColor: \"#2196F3\",\n        },\n    ],\n}));\n</script>\n","<template>\n    <ChartCard\n        :title=\"t('MainView.charts.entriesPerCompo')\"\n        :icon=\"faChartPie\"\n        :has-data=\"chartData.labels.length > 0\"\n        :no-data-text=\"t('MainView.charts.noData')\"\n    >\n        <Pie :data=\"chartData\" :options=\"chartOptions\" />\n    </ChartCard>\n</template>\n\n<script setup lang=\"ts\">\nimport { ArcElement, Chart as ChartJS, Legend, Tooltip } from \"chart.js\";\nimport { faChartPie } from \"@fortawesome/free-solid-svg-icons\";\nimport { computed } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { Pie } from \"vue-chartjs\";\n\nimport ChartCard from \"@/components/dashboard/ChartCard.vue\";\n\nChartJS.register(ArcElement, Legend, Tooltip);\n\nconst props = defineProps<{\n    compos: Array<{ id: number; name: string }>;\n    entryCounts: Map<number, number>;\n}>();\n\nconst { t } = useI18n();\n\nconst chartColors = [\n    \"#4CAF50\",\n    \"#2196F3\",\n    \"#FF9800\",\n    \"#9C27B0\",\n    \"#E91E63\",\n    \"#00BCD4\",\n    \"#FFEB3B\",\n    \"#795548\",\n    \"#607D8B\",\n    \"#F44336\",\n];\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n        legend: {\n            position: \"right\" as const,\n        },\n    },\n};\n\nconst chartData = computed(() => ({\n    labels: props.compos.map((c) => c.name),\n    datasets: [\n        {\n            data: props.compos.map((c) => props.entryCounts.get(c.id) ?? 0),\n            backgroundColor: chartColors.slice(0, props.compos.length),\n        },\n    ],\n}));\n</script>\n","<template>\n    <v-chip :color=\"chipColor\" size=\"small\">\n        {{ displayText }}\n    </v-chip>\n</template>\n\n<script setup lang=\"ts\">\nimport { Temporal } from \"temporal-polyfill\";\nimport { computed } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\n\nimport { ADMIN_TIMEZONE } from \"@/utils/datetime\";\n\nconst props = defineProps<{\n    /** Event date in YYYY-MM-DD format */\n    date: string;\n}>();\n\nconst { t } = useI18n();\n\nconst daysUntil = computed(() => {\n    const eventDate = Temporal.PlainDate.from(props.date);\n    const today = Temporal.Now.zonedDateTimeISO(ADMIN_TIMEZONE).toPlainDate();\n    return eventDate.since(today).days;\n});\n\nconst displayText = computed(() => {\n    const days = daysUntil.value;\n    if (days > 0) {\n        return t(\"MainView.daysUntil\", { days });\n    } else if (days === 0) {\n        return t(\"MainView.today\");\n    } else {\n        return t(\"MainView.daysAgo\", { days: Math.abs(days) });\n    }\n});\n\nconst chipColor = computed(() => {\n    const days = daysUntil.value;\n    if (days > 7) return \"green\";\n    if (days > 0) return \"orange\";\n    if (days === 0) return \"red\";\n    return \"grey\";\n});\n</script>\n","<template>\n    <LayoutBase :key=\"`dashboard-${eventId}`\" :breadcrumbs=\"breadcrumbs\">\n        <v-row v-if=\"loading\" class=\"justify-center my-8\">\n            <v-progress-circular indeterminate size=\"64\" />\n        </v-row>\n\n        <template v-else>\n            <!-- Event Overview -->\n            <v-row class=\"mb-4\">\n                <v-col cols=\"12\">\n                    <v-card>\n                        <v-card-title class=\"d-flex align-center\">\n                            <FontAwesomeIcon :icon=\"faCalendarDays\" class=\"mr-2\" />\n                            {{ event?.name ?? t(\"MainView.noEvent\") }}\n                            <v-chip v-if=\"event?.archived\" class=\"ml-2\" color=\"grey\" size=\"small\">\n                                {{ t(\"MainView.archived\") }}\n                            </v-chip>\n                        </v-card-title>\n                        <v-card-text>\n                            <div>\n                                <span class=\"text-grey\">{{ t(\"MainView.eventDate\") }}:</span>\n                                {{ event ? d(event.date, \"short\") : \"-\" }}\n                            </div>\n                            <div v-if=\"event\" class=\"mt-2\">\n                                <span class=\"text-grey\">{{ t(\"MainView.countdown\") }}:</span>\n                                <EventCountdown :date=\"event.date\" class=\"ml-1\" />\n                            </div>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n            </v-row>\n\n            <!-- Statistics Cards -->\n            <v-row class=\"mb-4\">\n                <v-col v-if=\"auth.canView(PermissionTarget.BLOG_ENTRY)\" cols=\"12\" sm=\"6\" lg>\n                    <StatCard\n                        :icon=\"faNewspaper\"\n                        :value=\"stats.blogPosts.total\"\n                        :label=\"t('MainView.stats.blogPosts')\"\n                        :subtitle=\"`${stats.blogPosts.public} ${t('MainView.stats.public')} / ${stats.blogPosts.draft} ${t('MainView.stats.draft')}`\"\n                        color=\"blue\"\n                        clickable\n                        @click=\"router.push({ name: 'blog', params: { eventId } })\"\n                    />\n                </v-col>\n                <v-col v-if=\"auth.canView(PermissionTarget.ENTRY)\" cols=\"12\" sm=\"6\" lg>\n                    <StatCard\n                        :icon=\"faFilm\"\n                        :value=\"stats.compoEntries\"\n                        :label=\"t('MainView.stats.compoEntries')\"\n                        :subtitle=\"`${stats.compos} ${t('MainView.stats.compos')}`\"\n                        color=\"green\"\n                        clickable\n                        @click=\"router.push({ name: 'entries', params: { eventId } })\"\n                    />\n                </v-col>\n                <v-col\n                    v-if=\"auth.canView(PermissionTarget.COMPETITION_PARTICIPATION)\"\n                    cols=\"12\"\n                    sm=\"6\"\n                    lg\n                >\n                    <StatCard\n                        :icon=\"faMedal\"\n                        :value=\"stats.competitionParticipants\"\n                        :label=\"t('MainView.stats.competitionParticipants')\"\n                        :subtitle=\"`${stats.competitions} ${t('MainView.stats.competitions')}`\"\n                        color=\"orange\"\n                        clickable\n                        @click=\"\n                            router.push({ name: 'competition-participations', params: { eventId } })\n                        \"\n                    />\n                </v-col>\n                <v-col v-if=\"auth.canView(PermissionTarget.STORE_TRANSACTION)\" cols=\"12\" sm=\"6\" lg>\n                    <StatCard\n                        :icon=\"faCreditCard\"\n                        :value=\"stats.transactions.total\"\n                        :label=\"t('MainView.stats.transactions')\"\n                        :subtitle=\"`${stats.transactions.paid} ${t('MainView.stats.paid')}`\"\n                        color=\"teal\"\n                        clickable\n                        @click=\"router.push({ name: 'store-transactions', params: { eventId } })\"\n                    />\n                </v-col>\n                <v-col v-if=\"auth.canView(PermissionTarget.VOTE_CODE_REQUEST)\" cols=\"12\" sm=\"6\" lg>\n                    <StatCard\n                        :icon=\"faCheckToSlot\"\n                        :value=\"stats.voteCodeRequests.pending\"\n                        :label=\"t('MainView.stats.pendingVoteRequests')\"\n                        :subtitle=\"`${stats.voteCodeRequests.total} ${t('MainView.stats.totalRequests')}`\"\n                        color=\"pink\"\n                        clickable\n                        @click=\"router.push({ name: 'vote-code-requests', params: { eventId } })\"\n                    />\n                </v-col>\n            </v-row>\n\n            <!-- Charts -->\n            <v-row class=\"mb-4\">\n                <v-col v-if=\"auth.canView(PermissionTarget.COMPO)\" cols=\"12\" md=\"6\">\n                    <EntriesPerCompoChart :compos=\"compos\" :entry-counts=\"compoEntryCounts\" />\n                </v-col>\n                <v-col v-if=\"auth.canView(PermissionTarget.COMPETITION)\" cols=\"12\" md=\"6\">\n                    <CompetitionParticipantsChart\n                        :competitions=\"competitions\"\n                        :participant-counts=\"competitionParticipantCounts\"\n                    />\n                </v-col>\n            </v-row>\n\n            <!-- Recent Activity -->\n            <v-row class=\"mb-4\">\n                <v-col v-if=\"auth.canView(PermissionTarget.BLOG_ENTRY)\" cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-card-title>\n                            <FontAwesomeIcon :icon=\"faClockRotateLeft\" class=\"mr-2\" />\n                            {{ t(\"MainView.recentActivity.blogPosts\") }}\n                        </v-card-title>\n                        <v-card-text>\n                            <v-list v-if=\"recentBlogPosts.length > 0\" density=\"compact\">\n                                <v-list-item\n                                    v-for=\"post in recentBlogPosts\"\n                                    :key=\"post.id\"\n                                    :title=\"post.title\"\n                                    :subtitle=\"d(post.date, 'long')\"\n                                >\n                                    <template #prepend>\n                                        <FontAwesomeIcon\n                                            :icon=\"post.public ? faEye : faEyeSlash\"\n                                            :class=\"\n                                                post.public ? 'text-green mr-3' : 'text-grey mr-3'\n                                            \"\n                                            size=\"sm\"\n                                        />\n                                    </template>\n                                </v-list-item>\n                            </v-list>\n                            <div v-else class=\"text-center text-grey py-4\">\n                                {{ t(\"MainView.recentActivity.noRecentPosts\") }}\n                            </div>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n                <v-col v-if=\"auth.canView(PermissionTarget.ENTRY)\" cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-card-title>\n                            <FontAwesomeIcon :icon=\"faFileImport\" class=\"mr-2\" />\n                            {{ t(\"MainView.recentActivity.compoEntries\") }}\n                        </v-card-title>\n                        <v-card-text>\n                            <v-list v-if=\"recentCompoEntries.length > 0\" density=\"compact\">\n                                <v-list-item\n                                    v-for=\"entry in recentCompoEntries\"\n                                    :key=\"entry.id\"\n                                    :title=\"entry.name\"\n                                    :subtitle=\"getCompoName(entry.compo)\"\n                                >\n                                    <template #prepend>\n                                        <FontAwesomeIcon :icon=\"faFile\" size=\"sm\" class=\"mr-3\" />\n                                    </template>\n                                </v-list-item>\n                            </v-list>\n                            <div v-else class=\"text-center text-grey py-4\">\n                                {{ t(\"MainView.recentActivity.noRecentEntries\") }}\n                            </div>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </template>\n    </LayoutBase>\n</template>\n\n<script setup lang=\"ts\">\nimport { parseInt } from \"lodash-es\";\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport {\n    faCalendarDays,\n    faCheckToSlot,\n    faClockRotateLeft,\n    faCreditCard,\n    faEye,\n    faEyeSlash,\n    faFile,\n    faFileImport,\n    faFilm,\n    faMedal,\n    faNewspaper,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { useRouter } from \"vue-router\";\n\nimport * as api from \"@/api\";\nimport type { BlogEntry, Compo, CompoEntry, Competition, Event } from \"@/api\";\nimport CompetitionParticipantsChart from \"@/components/dashboard/charts/CompetitionParticipantsChart.vue\";\nimport EntriesPerCompoChart from \"@/components/dashboard/charts/EntriesPerCompoChart.vue\";\nimport EventCountdown from \"@/components/dashboard/EventCountdown.vue\";\nimport LayoutBase, { type BreadcrumbItem } from \"@/components/layout/LayoutBase.vue\";\nimport StatCard from \"@/components/dashboard/StatCard.vue\";\nimport { PermissionTarget, useAuth } from \"@/services/auth\";\n\nconst router = useRouter();\n\nconst props = defineProps<{ eventId: string }>();\nconst { t, d } = useI18n();\nconst auth = useAuth();\n\nconst loading = ref(true);\nconst event = ref<Event | null>(null);\nconst eventIdNum = computed(() => parseInt(props.eventId, 10));\n\nconst breadcrumbs = computed<BreadcrumbItem[]>(() => [\n    {\n        title: event.value?.name ?? \"...\",\n        to: { name: \"dashboard\", params: { eventId: props.eventId } },\n    },\n    { title: t(\"MainView.title\"), disabled: true },\n]);\n\n// Statistics\nconst stats = ref({\n    blogPosts: { total: 0, public: 0, draft: 0 },\n    compoEntries: 0,\n    compos: 0,\n    competitionParticipants: 0,\n    competitions: 0,\n    transactions: { total: 0, paid: 0 },\n    voteCodeRequests: { total: 0, pending: 0 },\n});\n\n// Recent activity\nconst recentBlogPosts = ref<BlogEntry[]>([]);\nconst recentCompoEntries = ref<CompoEntry[]>([]);\n// Chart data\nconst compos = ref<Compo[]>([]);\nconst competitions = ref<Competition[]>([]);\nconst compoEntryCounts = ref<Map<number, number>>(new Map());\nconst competitionParticipantCounts = ref<Map<number, number>>(new Map());\n\nfunction getCompoName(compoId: number): string {\n    return compos.value.find((c) => c.id === compoId)?.name ?? t(\"MainView.unknown\");\n}\n\nasync function loadDashboardData() {\n    loading.value = true;\n    const eid = eventIdNum.value;\n\n    try {\n        // Load event details\n        const eventResponse = await api.adminEventsRetrieve({ path: { id: eid } });\n        event.value = eventResponse.data ?? null;\n\n        // Load all data in parallel\n        const [\n            blogResponse,\n            compoResponse,\n            entriesResponse,\n            competitionsResponse,\n            participantsResponse,\n            transactionsResponse,\n            voteRequestsResponse,\n        ] = await Promise.all([\n            api.adminBlogList({ query: { event: eid, limit: 1000 } }),\n            api.adminEventKompomaattiComposList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n            api.adminEventKompomaattiEntriesList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n            api.adminEventKompomaattiCompetitionsList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n            api.adminEventKompomaattiCompetitionParticipationsList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n            api.adminEventStoreTransactionsList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n            api.adminEventKompomaattiVoteCodeRequestsList({\n                path: { event_pk: eid },\n                query: { limit: 1000 },\n            }),\n        ]);\n\n        // Process blog stats\n        const blogPosts = blogResponse.data?.results ?? [];\n        const publicPosts = blogPosts.filter((p) => p.public).length;\n        stats.value.blogPosts = {\n            total: blogPosts.length,\n            public: publicPosts,\n            draft: blogPosts.length - publicPosts,\n        };\n        recentBlogPosts.value = blogPosts.slice(0, 5);\n\n        // Process compo stats\n        const compoList = compoResponse.data?.results ?? [];\n        const entries = entriesResponse.data?.results ?? [];\n        compos.value = compoList;\n        stats.value.compos = compoList.length;\n        stats.value.compoEntries = entries.length;\n        recentCompoEntries.value = entries.slice(0, 5);\n\n        // Count entries per compo\n        const entryCounts = new Map<number, number>();\n        entries.forEach((entry) => {\n            entryCounts.set(entry.compo, (entryCounts.get(entry.compo) ?? 0) + 1);\n        });\n        compoEntryCounts.value = entryCounts;\n\n        // Process competition stats\n        const competitionList = competitionsResponse.data?.results ?? [];\n        const participants = participantsResponse.data?.results ?? [];\n        competitions.value = competitionList;\n        stats.value.competitions = competitionList.length;\n        stats.value.competitionParticipants = participants.length;\n\n        // Count participants per competition\n        const participantCounts = new Map<number, number>();\n        participants.forEach((p) => {\n            participantCounts.set(p.competition, (participantCounts.get(p.competition) ?? 0) + 1);\n        });\n        competitionParticipantCounts.value = participantCounts;\n\n        // Process transactions\n        const transactions = transactionsResponse.data?.results ?? [];\n        const paidTransactions = transactions.filter((t) => t.time_paid).length;\n        stats.value.transactions = {\n            total: transactions.length,\n            paid: paidTransactions,\n        };\n\n        // Process vote code requests\n        const voteRequests = voteRequestsResponse.data?.results ?? [];\n        const pendingRequests = voteRequests.filter((r) => r.status === 0).length;\n        stats.value.voteCodeRequests = {\n            total: voteRequests.length,\n            pending: pendingRequests,\n        };\n    } catch (e) {\n        console.error(\"Failed to load dashboard data:\", e);\n    } finally {\n        loading.value = false;\n    }\n}\n\nonMounted(loadDashboardData);\nwatch(() => props.eventId, loadDashboardData);\n</script>\n"],"names":["ChartJS","BarElement","CategoryScale","Legend","LinearScale","Tooltip","props","__props","t","useI18n","chartOptions","chartData","computed","c","_createBlock","ChartCard","_unref","faChartBar","_createVNode","Bar","ArcElement","chartColors","faChartPie","Pie","daysUntil","eventDate","Temporal","today","ADMIN_TIMEZONE","displayText","days","chipColor","_component_v_chip","router","useRouter","d","auth","useAuth","loading","ref","event","eventIdNum","parseInt","breadcrumbs","stats","recentBlogPosts","recentCompoEntries","compos","competitions","compoEntryCounts","competitionParticipantCounts","getCompoName","compoId","loadDashboardData","eid","eventResponse","api.adminEventsRetrieve","blogResponse","compoResponse","entriesResponse","competitionsResponse","participantsResponse","transactionsResponse","voteRequestsResponse","api.adminBlogList","api.adminEventKompomaattiComposList","api.adminEventKompomaattiEntriesList","api.adminEventKompomaattiCompetitionsList","api.adminEventKompomaattiCompetitionParticipationsList","api.adminEventStoreTransactionsList","api.adminEventKompomaattiVoteCodeRequestsList","blogPosts","publicPosts","p","compoList","entries","entryCounts","entry","competitionList","participants","participantCounts","transactions","paidTransactions","voteRequests","pendingRequests","r","e","onMounted","watch","LayoutBase","_component_v_row","_component_v_progress_circular","_createElementBlock","_Fragment","_component_v_col","_component_v_card","_component_v_card_title","FontAwesomeIcon","faCalendarDays","_createTextVNode","_component_v_card_text","_createElementVNode","_hoisted_1","_toDisplayString","_openBlock","_hoisted_2","_hoisted_3","EventCountdown","PermissionTarget","StatCard","faNewspaper","_cache","$event","faFilm","faMedal","faCreditCard","faCheckToSlot","EntriesPerCompoChart","CompetitionParticipantsChart","faClockRotateLeft","_component_v_list","_renderList","post","_component_v_list_item","faEye","faEyeSlash","_normalizeClass","_hoisted_4","faFileImport","faFile","_hoisted_5"],"mappings":"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"}