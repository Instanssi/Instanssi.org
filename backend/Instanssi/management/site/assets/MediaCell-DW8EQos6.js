import{d as S,a as z,b as u,c as d,F as y,f as p,e,az as T,aA as I,l as D,j as a,w as i,p as k,aB as x,t as r,V as w,k as f,aC as C,aD as V,B as h,aE as M,aF as $,D as E,aG as B,g as F,aH as U,s as b,I as N,_ as A}from"./index-DXU74lGt.js";const O=["jpg","jpeg","png","gif","webp","svg","bmp","ico"],X=["mp4","mkv","webm","avi","mov","wmv","flv","ogv"],_=["mp3","ogg","opus","aac","wav","flac","m4a","wma"];function P(t){if(!t)return null;try{return new URL(t).pathname.split("/").pop()||null}catch{return t.split("/").pop()?.split("?")[0]||null}}function G(t){return t&&t.split(".").pop()?.toLowerCase()||null}function H(t){const o=P(t),n=G(o);return n?O.includes(n)?"image":X.includes(n)?"video":_.includes(n)?"audio":"other":"other"}const K={key:0,class:"media-cell"},L=["title"],R=["src"],q=["src"],J=["href","title"],Q={key:1},W=S({__name:"MediaCell",props:{url:{},filename:{default:null},size:{default:40},fallback:{default:"-"}},setup(t){const o=t,{t:n}=z(),c=b(!1),v=b(!1),m=b(!1),g=N(()=>H(o.url)),j=N(()=>o.filename?o.filename:P(o.url)||o.url||"");return(Y,l)=>t.url?(u(),d("div",K,[g.value==="image"?(u(),d(y,{key:0},[p("div",{class:"image-thumbnail",role:"button",tabindex:"0",title:a(n)("MediaCell.clickToPreview"),onClick:l[0]||(l[0]=s=>c.value=!0),onKeydown:[l[1]||(l[1]=I(s=>c.value=!0,["enter"])),l[2]||(l[2]=I(D(s=>c.value=!0,["prevent"]),["space"]))]},[e(T,{src:t.url,width:t.size,height:t.size,cover:"",class:"rounded"},null,8,["src","width","height"])],40,L),e(M,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=s=>c.value=s),"max-width":"900"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(a(n)("MediaCell.imagePreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[3]||(l[3]=s=>c.value=!1)},{default:i(()=>[e(a(f),{icon:a(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[e(T,{src:t.url,"max-height":"70vh","max-width":"100%"},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):g.value==="video"?(u(),d(y,{key:1},[e(w,{icon:"",variant:"text",size:"small",title:a(n)("MediaCell.clickToPreview"),onClick:l[5]||(l[5]=s=>v.value=!0)},{default:i(()=>[e(a(f),{icon:a($),size:"lg"},null,8,["icon"])]),_:1},8,["title"]),e(M,{modelValue:v.value,"onUpdate:modelValue":l[7]||(l[7]=s=>v.value=s),"max-width":"900"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(a(n)("MediaCell.videoPreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[6]||(l[6]=s=>v.value=!1)},{default:i(()=>[e(a(f),{icon:a(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[v.value?(u(),d("video",{key:0,src:t.url,controls:"",autoplay:"",class:"video-player"},r(a(n)("MediaCell.videoNotSupported")),9,R)):E("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):g.value==="audio"?(u(),d(y,{key:2},[e(w,{icon:"",variant:"text",size:"small",title:a(n)("MediaCell.clickToPreview"),onClick:l[8]||(l[8]=s=>m.value=!0)},{default:i(()=>[e(a(f),{icon:a(B),size:"lg"},null,8,["icon"])]),_:1},8,["title"]),e(M,{modelValue:m.value,"onUpdate:modelValue":l[10]||(l[10]=s=>m.value=s),"max-width":"500"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(a(n)("MediaCell.audioPreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[9]||(l[9]=s=>m.value=!1)},{default:i(()=>[e(a(f),{icon:a(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[m.value?(u(),d("audio",{key:0,src:t.url,controls:"",autoplay:"",class:"audio-player"},r(a(n)("MediaCell.audioNotSupported")),9,q)):E("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):(u(),F(a(f),{key:3,icon:a(U),class:"other-icon ma-3"},null,8,["icon"])),p("a",{href:t.url,target:"_blank",class:"filename-link",title:a(n)("MediaCell.download")},r(j.value),9,J)])):(u(),d("span",Q,r(t.fallback),1))}}),ee=A(W,[["__scopeId","data-v-b50c7dde"]]);export{ee as M,P as g};
//# sourceMappingURL=MediaCell-DW8EQos6.js.map
