import{d as S,a as $,b as u,c as d,F as y,f as p,e,ap as T,aq as I,l as z,j as t,w as i,p as k,ar as x,t as r,V as w,k as f,as as C,at as V,B as h,au as M,av as B,K as N,aw as D,g as F,ax as U,s as b,G as E,_ as O}from"./index-CY4kEXQX.js";const A=["jpg","jpeg","png","gif","webp","svg","bmp","ico"],X=["mp4","mkv","webm","avi","mov","wmv","flv","ogv"],_=["mp3","ogg","opus","aac","wav","flac","m4a","wma"];function P(a){if(!a)return null;try{return new URL(a).pathname.split("/").pop()||null}catch{return a.split("/").pop()?.split("?")[0]||null}}function K(a){return a&&a.split(".").pop()?.toLowerCase()||null}function G(a){const o=P(a),n=K(o);return n?A.includes(n)?"image":X.includes(n)?"video":_.includes(n)?"audio":"other":"other"}const L={key:0,class:"media-cell"},q=["title"],H=["src"],R=["src"],J=["href","title"],Q={key:1},W=S({__name:"MediaCell",props:{url:{},filename:{default:null},size:{default:40},fallback:{default:"-"}},setup(a){const o=a,{t:n}=$(),c=b(!1),v=b(!1),m=b(!1),g=E(()=>G(o.url)),j=E(()=>o.filename?o.filename:P(o.url)||o.url||"");return(Y,l)=>a.url?(u(),d("div",L,[g.value==="image"?(u(),d(y,{key:0},[p("div",{class:"image-thumbnail",role:"button",tabindex:"0",title:t(n)("MediaCell.clickToPreview"),onClick:l[0]||(l[0]=s=>c.value=!0),onKeydown:[l[1]||(l[1]=I(s=>c.value=!0,["enter"])),l[2]||(l[2]=I(z(s=>c.value=!0,["prevent"]),["space"]))]},[e(T,{src:a.url,width:a.size,height:a.size,cover:"",class:"rounded"},null,8,["src","width","height"])],40,q),e(M,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=s=>c.value=s),"max-width":"900"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(t(n)("MediaCell.imagePreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[3]||(l[3]=s=>c.value=!1)},{default:i(()=>[e(t(f),{icon:t(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[e(T,{src:a.url,"max-height":"70vh","max-width":"100%"},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):g.value==="video"?(u(),d(y,{key:1},[e(w,{icon:"",variant:"text",size:"small",title:t(n)("MediaCell.clickToPreview"),onClick:l[5]||(l[5]=s=>v.value=!0)},{default:i(()=>[e(t(f),{icon:t(B),size:"lg"},null,8,["icon"])]),_:1},8,["title"]),e(M,{modelValue:v.value,"onUpdate:modelValue":l[7]||(l[7]=s=>v.value=s),"max-width":"900"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(t(n)("MediaCell.videoPreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[6]||(l[6]=s=>v.value=!1)},{default:i(()=>[e(t(f),{icon:t(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[v.value?(u(),d("video",{key:0,src:a.url,controls:"",autoplay:"",class:"video-player"},r(t(n)("MediaCell.videoNotSupported")),9,H)):N("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):g.value==="audio"?(u(),d(y,{key:2},[e(w,{icon:"",variant:"text",size:"small",title:t(n)("MediaCell.clickToPreview"),onClick:l[8]||(l[8]=s=>m.value=!0)},{default:i(()=>[e(t(f),{icon:t(D),size:"lg"},null,8,["icon"])]),_:1},8,["title"]),e(M,{modelValue:m.value,"onUpdate:modelValue":l[10]||(l[10]=s=>m.value=s),"max-width":"500"},{default:i(()=>[e(k,null,{default:i(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:i(()=>[p("span",null,r(t(n)("MediaCell.audioPreviewTitle")),1),e(w,{icon:"",variant:"text",density:"compact",onClick:l[9]||(l[9]=s=>m.value=!1)},{default:i(()=>[e(t(f),{icon:t(C)},null,8,["icon"])]),_:1})]),_:1}),e(V),e(h,{class:"d-flex justify-center pa-4"},{default:i(()=>[m.value?(u(),d("audio",{key:0,src:a.url,controls:"",autoplay:"",class:"audio-player"},r(t(n)("MediaCell.audioNotSupported")),9,R)):N("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):(u(),F(t(f),{key:3,icon:t(U),class:"other-icon ma-3"},null,8,["icon"])),p("a",{href:a.url,target:"_blank",class:"filename-link",title:t(n)("MediaCell.download")},r(j.value),9,J)])):(u(),d("span",Q,r(a.fallback),1))}}),ee=O(W,[["__scopeId","data-v-b50c7dde"]]);export{ee as M,P as g};
//# sourceMappingURL=MediaCell-Du1wneMy.js.map
