{"version":3,"file":"TokensView-6_sCrmSx.js","sources":["../../../../../admin/src/views/tokens/TokenCreateDialog.vue","../../../../../admin/src/components/dialogs/TokenCreatedDialog.vue","../../../../../admin/src/views/tokens/TokensView.vue"],"sourcesContent":["<template>\n    <BaseInfoDialog\n        ref=\"dialog\"\n        :title=\"t('TokenCreateDialog.title')\"\n        :width=\"500\"\n        :ok-text=\"t('TokenCreateDialog.create')\"\n        :ok-icon=\"faKey\"\n        :loading=\"saving\"\n    >\n        <v-form @submit.prevent=\"submit\">\n            <v-text-field\n                v-model=\"expiryString\"\n                type=\"datetime-local\"\n                variant=\"outlined\"\n                :label=\"t('TokenCreateDialog.labels.expiry')\"\n                :min=\"minDateString\"\n                :error-messages=\"expiryError\"\n            />\n            <p class=\"text-caption mt-2 text-medium-emphasis\">\n                {{ t(\"TokenCreateDialog.expiryHint\") }}\n            </p>\n        </v-form>\n    </BaseInfoDialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { faKey } from \"@fortawesome/free-solid-svg-icons\";\nimport { type Ref, ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useToast } from \"vue-toastification\";\n\nimport * as api from \"@/api\";\nimport BaseInfoDialog from \"@/components/dialogs/BaseInfoDialog.vue\";\nimport { handleApiError, type FieldMapping } from \"@/utils/http\";\n\nconst props = defineProps<{\n    visible: boolean;\n}>();\n\nconst emit = defineEmits<{\n    \"update:visible\": [value: boolean];\n    created: [token: string];\n}>();\n\nconst { t } = useI18n();\nconst toast = useToast();\n\nconst dialog: Ref<InstanceType<typeof BaseInfoDialog> | undefined> = ref(undefined);\nconst saving = ref(false);\nconst expiryString = ref(\"\");\nconst minDateString = ref(\"\");\nconst expiryError = ref(\"\");\n\n/** Maps API field names to local field error refs */\nconst fieldMapping: FieldMapping = { expiry: \"expiry\" };\n\nfunction setErrors(errors: Record<string, string>) {\n    expiryError.value = errors.expiry ?? \"\";\n}\n\n// Format date for datetime-local input (YYYY-MM-DDTHH:mm)\nfunction formatDateTimeLocal(date: Date): string {\n    const pad = (n: number) => n.toString().padStart(2, \"0\");\n    return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}T${pad(date.getHours())}:${pad(date.getMinutes())}`;\n}\n\n// Default expiry: 30 days from now\nfunction getDefaultExpiry(): string {\n    const date = new Date();\n    date.setDate(date.getDate() + 30);\n    return formatDateTimeLocal(date);\n}\n\nfunction resetForm() {\n    minDateString.value = formatDateTimeLocal(new Date());\n    expiryString.value = getDefaultExpiry();\n    expiryError.value = \"\";\n}\n\nwatch(\n    () => props.visible,\n    async (newVal) => {\n        if (newVal) {\n            // Initialize form state once when dialog opens\n            resetForm();\n            // Loop allows retrying on failure\n            while (true) {\n                const ok = await dialog.value?.modal();\n                if (!ok) {\n                    // User cancelled\n                    break;\n                }\n                const success = await submit();\n                if (success) {\n                    break;\n                }\n                // On failure, loop continues and dialog reopens for retry\n            }\n            emit(\"update:visible\", false);\n        }\n    }\n);\n\nasync function submit(): Promise<boolean> {\n    if (!expiryString.value) {\n        toast.error(t(\"TokenCreateDialog.expiryRequired\"));\n        return false;\n    }\n\n    const expiry = new Date(expiryString.value);\n    if (isNaN(expiry.getTime())) {\n        toast.error(t(\"TokenCreateDialog.expiryRequired\"));\n        return false;\n    }\n\n    saving.value = true;\n    try {\n        const response = await api.userTokensCreateToken({\n            body: {\n                expiry: expiry.toISOString(),\n            },\n        });\n        toast.success(t(\"TokenCreateDialog.createSuccess\"));\n        emit(\"created\", response.data!.token);\n        return true;\n    } catch (e) {\n        handleApiError(e, setErrors, toast, t(\"TokenCreateDialog.createFailure\"), fieldMapping);\n        return false;\n    } finally {\n        saving.value = false;\n    }\n}\n</script>\n","<template>\n    <BaseInfoDialog\n        ref=\"dialog\"\n        :title=\"t('TokenCreatedDialog.title')\"\n        :width=\"600\"\n        :ok-text=\"t('General.ok')\"\n        :ok-icon=\"faCheck\"\n        cancel-text=\"\"\n    >\n        <v-alert type=\"warning\" variant=\"tonal\" class=\"mb-4\">\n            {{ t(\"TokenCreatedDialog.warning\") }}\n        </v-alert>\n\n        <v-text-field\n            :model-value=\"token\"\n            variant=\"outlined\"\n            readonly\n            :label=\"t('TokenCreatedDialog.labels.token')\"\n            class=\"token-field\"\n        >\n            <template #append-inner>\n                <v-btn\n                    variant=\"text\"\n                    size=\"small\"\n                    :title=\"t('TokenCreatedDialog.copyToClipboard')\"\n                    @click=\"copyToClipboard\"\n                >\n                    <FontAwesomeIcon :icon=\"faCopy\" />\n                </v-btn>\n            </template>\n        </v-text-field>\n    </BaseInfoDialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { faCheck, faCopy } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { type Ref, ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useToast } from \"vue-toastification\";\n\nimport BaseInfoDialog from \"@/components/dialogs/BaseInfoDialog.vue\";\n\nconst props = defineProps<{\n    visible: boolean;\n    token: string;\n}>();\n\nconst emit = defineEmits<{\n    \"update:visible\": [value: boolean];\n}>();\n\nconst { t } = useI18n();\nconst toast = useToast();\n\nconst dialog: Ref<InstanceType<typeof BaseInfoDialog> | undefined> = ref(undefined);\n\nwatch(\n    () => props.visible,\n    async (newVal) => {\n        if (newVal) {\n            await dialog.value?.modal();\n            emit(\"update:visible\", false);\n        }\n    }\n);\n\nasync function copyToClipboard() {\n    try {\n        await navigator.clipboard.writeText(props.token);\n        toast.success(t(\"TokenCreatedDialog.copySuccess\"));\n    } catch (e) {\n        toast.error(t(\"TokenCreatedDialog.copyFailure\"));\n        console.error(e);\n    }\n}\n</script>\n\n<style scoped>\n.token-field :deep(input) {\n    font-family: monospace;\n    font-size: 0.9em;\n}\n</style>\n","<template>\n    <LayoutBase :breadcrumbs=\"breadcrumbs\">\n        <v-col>\n            <v-row>\n                <v-btn\n                    v-if=\"auth.canAdd(PermissionTarget.AUTH_TOKEN)\"\n                    color=\"primary\"\n                    class=\"mb-4\"\n                    @click=\"showCreateDialog = true\"\n                >\n                    <template #prepend>\n                        <FontAwesomeIcon :icon=\"faPlus\" />\n                    </template>\n                    {{ t(\"TokensView.newToken\") }}\n                </v-btn>\n            </v-row>\n        </v-col>\n        <v-col>\n            <v-row>\n                <v-data-table-server\n                    v-model:items-per-page=\"perPage\"\n                    class=\"elevation-1 primary\"\n                    item-value=\"pk\"\n                    density=\"compact\"\n                    :headers=\"headers\"\n                    :items=\"tokens\"\n                    :items-length=\"totalItems\"\n                    :loading=\"loading\"\n                    :page=\"currentPage\"\n                    :items-per-page-options=\"pageSizeOptions\"\n                    :no-data-text=\"t('TokensView.noTokensFound')\"\n                    :loading-text=\"t('TokensView.loadingTokens')\"\n                    @update:options=\"debouncedLoad\"\n                >\n                    <template #item.token_key=\"{ item }\">\n                        <code>{{ item.token_key }}...</code>\n                    </template>\n                    <template #item.created=\"{ item }\">\n                        <DateTimeCell :value=\"item.created\" />\n                    </template>\n                    <template #item.expiry=\"{ item }\">\n                        <DateTimeCell :value=\"item.expiry\" />\n                    </template>\n                    <template #item.actions=\"{ item }\">\n                        <v-btn\n                            v-if=\"auth.canDelete(PermissionTarget.AUTH_TOKEN)\"\n                            variant=\"text\"\n                            color=\"error\"\n                            size=\"small\"\n                            @click=\"deleteToken(item)\"\n                        >\n                            <FontAwesomeIcon :icon=\"faTrash\" />\n                        </v-btn>\n                    </template>\n                </v-data-table-server>\n            </v-row>\n        </v-col>\n\n        <TokenCreateDialog v-model:visible=\"showCreateDialog\" @created=\"onTokenCreated\" />\n\n        <TokenCreatedDialog v-model:visible=\"showCreatedDialog\" :token=\"createdToken\" />\n    </LayoutBase>\n</template>\n\n<script setup lang=\"ts\">\nimport { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { debounce } from \"lodash-es\";\nimport { type Ref, inject, ref } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useToast } from \"vue-toastification\";\nimport { type VDataTable } from \"vuetify/components\";\n\nimport * as api from \"@/api\";\nimport type { AuthToken } from \"@/api\";\nimport DateTimeCell from \"@/components/table/DateTimeCell.vue\";\nimport LayoutBase, { type BreadcrumbItem } from \"@/components/layout/LayoutBase.vue\";\nimport TokenCreateDialog from \"@/views/tokens/TokenCreateDialog.vue\";\nimport TokenCreatedDialog from \"@/components/dialogs/TokenCreatedDialog.vue\";\nimport { PermissionTarget, useAuth } from \"@/services/auth\";\nimport { type LoadArgs, getLoadArgs } from \"@/services/utils/query_tools\";\nimport { confirmDialogKey } from \"@/symbols\";\nimport type { ConfirmDialogType } from \"@/symbols\";\nimport { getApiErrorMessage } from \"@/utils/http\";\n\ntype ReadonlyHeaders = VDataTable[\"$props\"][\"headers\"];\n\nconst { t } = useI18n();\nconst confirmDialog: ConfirmDialogType = inject(confirmDialogKey)!;\nconst toast = useToast();\nconst auth = useAuth();\n\nconst breadcrumbs: BreadcrumbItem[] = [{ title: t(\"TokensView.title\"), disabled: true }];\n\nconst loading = ref(false);\nconst pageSizeOptions = [25, 50, 100];\nconst perPage = ref(pageSizeOptions[0]);\nconst totalItems = ref(0);\nconst currentPage = ref(1);\nconst tokens: Ref<AuthToken[]> = ref([]);\nconst lastLoadArgs: Ref<LoadArgs | null> = ref(null);\nconst showCreateDialog = ref(false);\nconst showCreatedDialog = ref(false);\nconst createdToken = ref(\"\");\n\nconst headers: ReadonlyHeaders = [\n    {\n        title: t(\"TokensView.headers.tokenKey\"),\n        sortable: false,\n        key: \"token_key\",\n    },\n    {\n        title: t(\"TokensView.headers.created\"),\n        sortable: true,\n        key: \"created\",\n    },\n    {\n        title: t(\"TokensView.headers.expiry\"),\n        sortable: true,\n        key: \"expiry\",\n    },\n    {\n        title: t(\"TokensView.headers.actions\"),\n        sortable: false,\n        key: \"actions\",\n        align: \"end\",\n    },\n];\n\nfunction flushData() {\n    if (lastLoadArgs.value) {\n        load(lastLoadArgs.value);\n    }\n}\n\nasync function load(args: LoadArgs) {\n    loading.value = true;\n    lastLoadArgs.value = args;\n    try {\n        const response = await api.tokensList({ query: getLoadArgs(args) });\n        tokens.value = response.data!.results;\n        totalItems.value = response.data!.count;\n    } catch (e) {\n        toast.error(t(\"TokensView.loadFailure\"));\n        console.error(e);\n    } finally {\n        loading.value = false;\n    }\n}\n\nconst debouncedLoad = debounce(load, 250);\n\nasync function deleteToken(item: AuthToken): Promise<void> {\n    const text = t(\"TokensView.confirmDelete\", { tokenKey: item.token_key });\n    const ok = await confirmDialog.value!.confirm(text);\n    if (ok) {\n        try {\n            await api.tokensDestroy({ path: { digest: item.pk } });\n            flushData();\n            toast.success(t(\"TokensView.deleteSuccess\"));\n        } catch (e) {\n            toast.error(getApiErrorMessage(e, t(\"TokensView.deleteFailure\")));\n            console.error(e);\n        }\n    }\n}\n\nfunction onTokenCreated(token: string) {\n    createdToken.value = token;\n    showCreatedDialog.value = true;\n    flushData();\n}\n</script>\n"],"names":["props","__props","emit","__emit","t","useI18n","toast","useToast","dialog","ref","saving","expiryString","minDateString","expiryError","fieldMapping","setErrors","errors","formatDateTimeLocal","date","pad","n","getDefaultExpiry","resetForm","watch","newVal","submit","expiry","response","api.userTokensCreateToken","e","handleApiError","_createBlock","BaseInfoDialog","_unref","faKey","_createVNode","_component_v_form","_component_v_text_field","$event","_createElementVNode","_hoisted_1","_toDisplayString","copyToClipboard","faCheck","_component_v_alert","_component_v_btn","FontAwesomeIcon","faCopy","confirmDialog","inject","confirmDialogKey","auth","useAuth","breadcrumbs","loading","pageSizeOptions","perPage","totalItems","currentPage","tokens","lastLoadArgs","showCreateDialog","showCreatedDialog","createdToken","headers","flushData","load","args","api.tokensList","getLoadArgs","debouncedLoad","debounce","deleteToken","item","text","api.tokensDestroy","getApiErrorMessage","onTokenCreated","token","LayoutBase","_component_v_col","_component_v_row","PermissionTarget","faPlus","_createTextVNode","_component_v_data_table_server","_withCtx","DateTimeCell","faTrash","TokenCreateDialog","TokenCreatedDialog"],"mappings":"2/BAmCA,MAAMA,EAAQC,EAIRC,EAAOC,EAKP,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACRC,EAAQC,EAAA,EAERC,EAA+DC,EAAI,MAAS,EAC5EC,EAASD,EAAI,EAAK,EAClBE,EAAeF,EAAI,EAAE,EACrBG,EAAgBH,EAAI,EAAE,EACtBI,EAAcJ,EAAI,EAAE,EAGpBK,EAA6B,CAAE,OAAQ,QAAA,EAE7C,SAASC,EAAUC,EAAgC,CAC/CH,EAAY,MAAQG,EAAO,QAAU,EACzC,CAGA,SAASC,EAAoBC,EAAoB,CAC7C,MAAMC,EAAOC,GAAcA,EAAE,WAAW,SAAS,EAAG,GAAG,EACvD,MAAO,GAAGF,EAAK,YAAA,CAAa,IAAIC,EAAID,EAAK,SAAA,EAAa,CAAC,CAAC,IAAIC,EAAID,EAAK,QAAA,CAAS,CAAC,IAAIC,EAAID,EAAK,SAAA,CAAU,CAAC,IAAIC,EAAID,EAAK,WAAA,CAAY,CAAC,EACrI,CAGA,SAASG,GAA2B,CAChC,MAAMH,MAAW,KACjB,OAAAA,EAAK,QAAQA,EAAK,QAAA,EAAY,EAAE,EACzBD,EAAoBC,CAAI,CACnC,CAEA,SAASI,GAAY,CACjBV,EAAc,MAAQK,EAAoB,IAAI,IAAM,EACpDN,EAAa,MAAQU,EAAA,EACrBR,EAAY,MAAQ,EACxB,CAEAU,EACI,IAAMvB,EAAM,QACZ,MAAOwB,GAAW,CACd,GAAIA,EAAQ,CAIR,IAFAF,EAAA,EAIQ,GADO,MAAMd,EAAO,OAAO,MAAA,GAKf,MAAMiB,EAAA,IACtB,CAKJvB,EAAK,iBAAkB,EAAK,CAChC,CACJ,CAAA,EAGJ,eAAeuB,GAA2B,CACtC,GAAI,CAACd,EAAa,MACd,OAAAL,EAAM,MAAMF,EAAE,kCAAkC,CAAC,EAC1C,GAGX,MAAMsB,EAAS,IAAI,KAAKf,EAAa,KAAK,EAC1C,GAAI,MAAMe,EAAO,QAAA,CAAS,EACtB,OAAApB,EAAM,MAAMF,EAAE,kCAAkC,CAAC,EAC1C,GAGXM,EAAO,MAAQ,GACf,GAAI,CACA,MAAMiB,EAAW,MAAMC,EAA0B,CAC7C,KAAM,CACF,OAAQF,EAAO,YAAA,CAAY,CAC/B,CACH,EACD,OAAApB,EAAM,QAAQF,EAAE,iCAAiC,CAAC,EAClDF,EAAK,UAAWyB,EAAS,KAAM,KAAK,EAC7B,EACX,OAASE,EAAG,CACR,OAAAC,GAAeD,EAAGd,EAAWT,EAAOF,EAAE,iCAAiC,EAAGU,CAAY,EAC/E,EACX,QAAA,CACIJ,EAAO,MAAQ,EACnB,CACJ,mBAlIIqB,EAqBiBC,EAAA,SApBT,SAAJ,IAAIxB,EACH,MAAOyB,EAAA7B,CAAA,EAAC,yBAAA,EACR,MAAO,IACP,UAAS6B,EAAA7B,CAAA,EAAC,0BAAA,EACV,UAAS6B,EAAAC,CAAA,EACT,QAASxB,EAAA,KAAA,aAEV,IAYS,CAZTyB,EAYSC,GAAA,CAZA,WAAgBX,EAAM,CAAA,SAAA,CAAA,CAAA,aAC3B,IAOE,CAPFU,EAOEE,EAAA,YANW1B,EAAA,2CAAAA,EAAY,MAAA2B,GACrB,KAAK,iBACL,QAAQ,WACP,MAAOL,EAAA7B,CAAA,EAAC,iCAAA,EACR,IAAKQ,EAAA,MACL,iBAAgBC,EAAA,KAAA,wDAErB0B,EAEI,IAFJC,GAEIC,EADGR,EAAA7B,CAAA,EAAC,8BAAA,CAAA,EAAA,CAAA,CAAA,oLCwBpB,MAAMJ,EAAQC,EAKRC,EAAOC,EAIP,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACRC,EAAQC,EAAA,EAERC,EAA+DC,EAAI,MAAS,EAElFc,EACI,IAAMvB,EAAM,QACZ,MAAOwB,GAAW,CACVA,IACA,MAAMhB,EAAO,OAAO,MAAA,EACpBN,EAAK,iBAAkB,EAAK,EAEpC,CAAA,EAGJ,eAAewC,GAAkB,CAC7B,GAAI,CACA,MAAM,UAAU,UAAU,UAAU1C,EAAM,KAAK,EAC/CM,EAAM,QAAQF,EAAE,gCAAgC,CAAC,CACrD,OAASyB,EAAG,CACRvB,EAAM,MAAMF,EAAE,gCAAgC,CAAC,EAC/C,QAAQ,MAAMyB,CAAC,CACnB,CACJ,mBA1EIE,EA8BiBC,EAAA,SA7BT,SAAJ,IAAIxB,EACH,MAAOyB,EAAA7B,CAAA,EAAC,0BAAA,EACR,MAAO,IACP,UAAS6B,EAAA7B,CAAA,EAAC,YAAA,EACV,UAAS6B,EAAAU,CAAA,EACV,cAAY,EAAA,aAEZ,IAEU,CAFVR,EAEUS,GAAA,CAFD,KAAK,UAAU,QAAQ,QAAQ,MAAM,MAAA,aAC1C,IAAqC,KAAlCX,EAAA7B,CAAA,EAAC,4BAAA,CAAA,EAAA,CAAA,CAAA,SAGR+B,EAiBeE,EAAA,CAhBV,cAAapC,EAAA,MACd,QAAQ,WACR,SAAA,GACC,MAAOgC,EAAA7B,CAAA,EAAC,iCAAA,EACT,MAAM,aAAA,GAEK,iBACP,IAOQ,CAPR+B,EAOQU,EAAA,CANJ,QAAQ,OACR,KAAK,QACJ,MAAOZ,EAAA7B,CAAA,EAAC,oCAAA,EACR,QAAOsC,CAAA,aAER,IAAkC,CAAlCP,EAAkCF,EAAAa,CAAA,EAAA,CAAhB,KAAMb,EAAAc,CAAA,GAAM,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,iLC4DlD,KAAM,CAAE,EAAA3C,CAAA,EAAMC,EAAA,EACR2C,EAAmCC,GAAOC,EAAgB,EAC1D5C,EAAQC,EAAA,EACR4C,EAAOC,GAAA,EAEPC,EAAgC,CAAC,CAAE,MAAOjD,EAAE,kBAAkB,EAAG,SAAU,GAAM,EAEjFkD,EAAU7C,EAAI,EAAK,EACnB8C,EAAkB,CAAC,GAAI,GAAI,GAAG,EAC9BC,EAAU/C,EAAI8C,EAAgB,CAAC,CAAC,EAChCE,EAAahD,EAAI,CAAC,EAClBiD,EAAcjD,EAAI,CAAC,EACnBkD,EAA2BlD,EAAI,EAAE,EACjCmD,EAAqCnD,EAAI,IAAI,EAC7CoD,EAAmBpD,EAAI,EAAK,EAC5BqD,EAAoBrD,EAAI,EAAK,EAC7BsD,EAAetD,EAAI,EAAE,EAErBuD,EAA2B,CAC7B,CACI,MAAO5D,EAAE,6BAA6B,EACtC,SAAU,GACV,IAAK,WAAA,EAET,CACI,MAAOA,EAAE,4BAA4B,EACrC,SAAU,GACV,IAAK,SAAA,EAET,CACI,MAAOA,EAAE,2BAA2B,EACpC,SAAU,GACV,IAAK,QAAA,EAET,CACI,MAAOA,EAAE,4BAA4B,EACrC,SAAU,GACV,IAAK,UACL,MAAO,KAAA,CACX,EAGJ,SAAS6D,GAAY,CACbL,EAAa,OACbM,EAAKN,EAAa,KAAK,CAE/B,CAEA,eAAeM,EAAKC,EAAgB,CAChCb,EAAQ,MAAQ,GAChBM,EAAa,MAAQO,EACrB,GAAI,CACA,MAAMxC,EAAW,MAAMyC,GAAe,CAAE,MAAOC,GAAYF,CAAI,EAAG,EAClER,EAAO,MAAQhC,EAAS,KAAM,QAC9B8B,EAAW,MAAQ9B,EAAS,KAAM,KACtC,OAASE,EAAG,CACRvB,EAAM,MAAMF,EAAE,wBAAwB,CAAC,EACvC,QAAQ,MAAMyB,CAAC,CACnB,QAAA,CACIyB,EAAQ,MAAQ,EACpB,CACJ,CAEA,MAAMgB,EAAgBC,GAASL,EAAM,GAAG,EAExC,eAAeM,EAAYC,EAAgC,CACvD,MAAMC,EAAOtE,EAAE,2BAA4B,CAAE,SAAUqE,EAAK,UAAW,EAEvE,GADW,MAAMzB,EAAc,MAAO,QAAQ0B,CAAI,EAE9C,GAAI,CACA,MAAMC,GAAkB,CAAE,KAAM,CAAE,OAAQF,EAAK,EAAA,EAAM,EACrDR,EAAA,EACA3D,EAAM,QAAQF,EAAE,0BAA0B,CAAC,CAC/C,OAASyB,EAAG,CACRvB,EAAM,MAAMsE,GAAmB/C,EAAGzB,EAAE,0BAA0B,CAAC,CAAC,EAChE,QAAQ,MAAMyB,CAAC,CACnB,CAER,CAEA,SAASgD,EAAeC,EAAe,CACnCf,EAAa,MAAQe,EACrBhB,EAAkB,MAAQ,GAC1BG,EAAA,CACJ,mBA1KIlC,EA4DagD,GAAA,CA5DA,YAAA1B,GAAwB,WACjC,IAcQ,CAdRlB,EAcQ6C,EAAA,KAAA,WAbJ,IAYQ,CAZR7C,EAYQ8C,EAAA,KAAA,WAXJ,IAUQ,CATEhD,EAAAkB,CAAA,EAAK,OAAOlB,EAAAiD,CAAA,EAAiB,UAAU,OADjDnD,EAUQc,EAAA,OARJ,MAAM,UACN,MAAM,OACL,uBAAOgB,EAAA,MAAgB,GAAA,GAEb,UACP,IAAkC,CAAlC1B,EAAkCF,EAAAa,CAAA,EAAA,CAAhB,KAAMb,EAAAkD,EAAA,GAAM,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,aACvB,IACX,CADWC,EAAA,MACRnD,EAAA7B,CAAA,EAAC,qBAAA,CAAA,EAAA,CAAA,CAAA,mCAIhB+B,EAuCQ6C,EAAA,KAAA,WAtCJ,IAqCQ,CArCR7C,EAqCQ8C,EAAA,KAAA,WApCJ,IAmCsB,CAnCtB9C,EAmCsBkD,GAAA,CAlCV,iBAAgB7B,EAAA,6CAAAA,EAAO,MAAAlB,GAC/B,MAAM,sBACN,aAAW,KACX,QAAQ,UACP,QAAA0B,EACA,MAAOL,EAAA,MACP,eAAcF,EAAA,MACd,QAASH,EAAA,MACT,KAAMI,EAAA,MACN,yBAAwBH,EACxB,eAActB,EAAA7B,CAAA,EAAC,0BAAA,EACf,eAAc6B,EAAA7B,CAAA,EAAC,0BAAA,EACf,mBAAgB6B,EAAAqC,CAAA,CAAA,GAEN,iBAAcgB,EACrB,CAAoC,CADX,KAAAb,KAAI,CAC7BlC,EAAoC,OAAA,KAAAE,EAA3BgC,EAAK,SAAS,EAAG,MAAG,CAAA,CAAA,GAEtB,eAAYa,EACnB,CAAsC,CADf,KAAAb,KAAI,CAC3BtC,EAAsCoD,EAAA,CAAvB,MAAOd,EAAK,OAAA,sBAEpB,cAAWa,EAClB,CAAqC,CADf,KAAAb,KAAI,CAC1BtC,EAAqCoD,EAAA,CAAtB,MAAOd,EAAK,MAAA,sBAEpB,eAAYa,EACnB,CAQQ,CATe,KAAAb,KAAI,CAEjBxC,EAAAkB,CAAA,EAAK,UAAUlB,EAAAiD,CAAA,EAAiB,UAAU,OADpDnD,EAQQc,EAAA,OANJ,QAAQ,OACR,MAAM,QACN,KAAK,QACJ,QAAKP,GAAEkC,EAAYC,CAAI,CAAA,aAExB,IAAmC,CAAnCtC,EAAmCF,EAAAa,CAAA,EAAA,CAAjB,KAAMb,EAAAuD,EAAA,GAAO,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,uKAOnDrD,EAAkFsD,GAAA,CAAvD,QAAS5B,EAAA,wCAAAA,EAAgB,MAAAvB,GAAG,UAASuC,CAAA,sBAEhE1C,EAAgFuD,GAAA,CAApD,QAAS5B,EAAA,wCAAAA,EAAiB,MAAAxB,GAAG,MAAOyB,EAAA,KAAA"}