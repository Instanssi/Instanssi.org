{"version":3,"file":"VDataTableServer-C6tuZDKn.js","sources":["../../../../../admin/node_modules/vuetify/lib/components/VDataTable/VDataTableServer.js"],"sourcesContent":["import { Fragment as _Fragment, mergeProps as _mergeProps, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\";\n// Components\nimport { makeDataTableProps } from \"./VDataTable.js\";\nimport { makeVDataTableFooterProps, VDataTableFooter } from \"./VDataTableFooter.js\";\nimport { VDataTableHeaders } from \"./VDataTableHeaders.js\";\nimport { VDataTableRows } from \"./VDataTableRows.js\";\nimport { VDivider } from \"../VDivider/index.js\";\nimport { VTable } from \"../VTable/index.js\"; // Composables\nimport { provideExpanded } from \"./composables/expand.js\";\nimport { createGroupBy, provideGroupBy, useGroupedItems } from \"./composables/group.js\";\nimport { createHeaders } from \"./composables/headers.js\";\nimport { useDataTableItems } from \"./composables/items.js\";\nimport { useOptions } from \"./composables/options.js\";\nimport { createPagination, makeDataTablePaginateProps, providePagination } from \"./composables/paginate.js\";\nimport { provideSelection } from \"./composables/select.js\";\nimport { createSort, provideSort } from \"./composables/sort.js\";\nimport { provideDefaults } from \"../../composables/defaults.js\"; // Utilities\nimport { computed, provide, toRef, toRefs } from 'vue';\nimport { genericComponent, omit, propsFactory, useRender } from \"../../util/index.js\"; // Types\nexport const makeVDataTableServerProps = propsFactory({\n  itemsLength: {\n    type: [Number, String],\n    required: true\n  },\n  ...makeDataTablePaginateProps(),\n  ...makeDataTableProps(),\n  ...makeVDataTableFooterProps()\n}, 'VDataTableServer');\nexport const VDataTableServer = genericComponent()({\n  name: 'VDataTableServer',\n  props: makeVDataTableServerProps(),\n  emits: {\n    'update:modelValue': value => true,\n    'update:page': page => true,\n    'update:itemsPerPage': page => true,\n    'update:sortBy': sortBy => true,\n    'update:options': options => true,\n    'update:expanded': options => true,\n    'update:groupBy': value => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      groupBy\n    } = createGroupBy(props);\n    const {\n      initialSortOrder,\n      sortBy,\n      multiSort,\n      mustSort\n    } = createSort(props);\n    const {\n      page,\n      itemsPerPage\n    } = createPagination(props);\n    const {\n      disableSort\n    } = toRefs(props);\n    const itemsLength = computed(() => parseInt(props.itemsLength, 10));\n    const {\n      columns,\n      headers\n    } = createHeaders(props, {\n      groupBy,\n      showSelect: toRef(() => props.showSelect),\n      showExpand: toRef(() => props.showExpand)\n    });\n    const {\n      items\n    } = useDataTableItems(props, columns);\n    const {\n      toggleSort\n    } = provideSort({\n      initialSortOrder,\n      sortBy,\n      multiSort,\n      mustSort,\n      page\n    });\n    const {\n      opened,\n      isGroupOpen,\n      toggleGroup,\n      extractRows\n    } = provideGroupBy({\n      groupBy,\n      sortBy,\n      disableSort\n    });\n    const {\n      pageCount,\n      setItemsPerPage\n    } = providePagination({\n      page,\n      itemsPerPage,\n      itemsLength\n    });\n    const {\n      flatItems\n    } = useGroupedItems(items, groupBy, opened, () => !!slots['group-summary']);\n    const {\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      someSelected,\n      allSelected\n    } = provideSelection(props, {\n      allItems: items,\n      currentPage: items\n    });\n    const {\n      isExpanded,\n      toggleExpand\n    } = provideExpanded(props);\n    const itemsWithoutGroups = computed(() => extractRows(items.value));\n    useOptions({\n      page,\n      itemsPerPage,\n      sortBy,\n      groupBy,\n      search: toRef(() => props.search)\n    });\n    provide('v-data-table', {\n      toggleSort,\n      sortBy\n    });\n    provideDefaults({\n      VDataTableRows: {\n        hideNoData: toRef(() => props.hideNoData),\n        noDataText: toRef(() => props.noDataText),\n        loading: toRef(() => props.loading),\n        loadingText: toRef(() => props.loadingText)\n      }\n    });\n    const slotProps = computed(() => ({\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      pageCount: pageCount.value,\n      toggleSort,\n      setItemsPerPage,\n      someSelected: someSelected.value,\n      allSelected: allSelected.value,\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      isExpanded,\n      toggleExpand,\n      isGroupOpen,\n      toggleGroup,\n      items: itemsWithoutGroups.value.map(item => item.raw),\n      internalItems: itemsWithoutGroups.value,\n      groupedItems: flatItems.value,\n      columns: columns.value,\n      headers: headers.value\n    }));\n    useRender(() => {\n      const dataTableFooterProps = VDataTableFooter.filterProps(props);\n      const dataTableHeadersProps = VDataTableHeaders.filterProps(omit(props, ['multiSort']));\n      const dataTableRowsProps = VDataTableRows.filterProps(props);\n      const tableProps = VTable.filterProps(props);\n      return _createVNode(VTable, _mergeProps({\n        \"class\": ['v-data-table', {\n          'v-data-table--loading': props.loading\n        }, props.class],\n        \"style\": props.style\n      }, tableProps, {\n        \"fixedHeader\": props.fixedHeader || props.sticky\n      }), {\n        top: () => slots.top?.(slotProps.value),\n        default: () => slots.default ? slots.default(slotProps.value) : _createElementVNode(_Fragment, null, [slots.colgroup?.(slotProps.value), !props.hideDefaultHeader && _createElementVNode(\"thead\", {\n          \"key\": \"thead\",\n          \"class\": \"v-data-table__thead\",\n          \"role\": \"rowgroup\"\n        }, [_createVNode(VDataTableHeaders, _mergeProps(dataTableHeadersProps, {\n          \"multiSort\": !!props.multiSort\n        }), slots)]), slots.thead?.(slotProps.value), !props.hideDefaultBody && _createElementVNode(\"tbody\", {\n          \"class\": \"v-data-table__tbody\",\n          \"role\": \"rowgroup\"\n        }, [slots['body.prepend']?.(slotProps.value), slots.body ? slots.body(slotProps.value) : _createVNode(VDataTableRows, _mergeProps(attrs, dataTableRowsProps, {\n          \"items\": flatItems.value\n        }), slots), slots['body.append']?.(slotProps.value)]), slots.tbody?.(slotProps.value), slots.tfoot?.(slotProps.value)]),\n        bottom: () => slots.bottom ? slots.bottom(slotProps.value) : !props.hideDefaultFooter && _createElementVNode(_Fragment, null, [_createVNode(VDivider, null, null), _createVNode(VDataTableFooter, dataTableFooterProps, {\n          prepend: slots['footer.prepend']\n        })])\n      });\n    });\n  }\n});\n//# sourceMappingURL=VDataTableServer.js.map"],"names":["makeVDataTableServerProps","propsFactory","makeDataTablePaginateProps","makeDataTableProps","makeVDataTableFooterProps","VDataTableServer","genericComponent","value","page","sortBy","options","props","_ref","attrs","slots","groupBy","createGroupBy","initialSortOrder","multiSort","mustSort","createSort","itemsPerPage","createPagination","disableSort","toRefs","itemsLength","computed","columns","headers","createHeaders","toRef","items","useDataTableItems","toggleSort","provideSort","opened","isGroupOpen","toggleGroup","extractRows","provideGroupBy","pageCount","setItemsPerPage","providePagination","flatItems","useGroupedItems","isSelected","select","selectAll","toggleSelect","someSelected","allSelected","provideSelection","isExpanded","toggleExpand","provideExpanded","itemsWithoutGroups","useOptions","provide","provideDefaults","slotProps","item","useRender","dataTableFooterProps","VDataTableFooter","dataTableHeadersProps","VDataTableHeaders","omit","dataTableRowsProps","VDataTableRows","tableProps","VTable","_createVNode","_mergeProps","_createElementVNode","_Fragment","VDivider"],"mappings":"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","x_google_ignoreList":[0]}