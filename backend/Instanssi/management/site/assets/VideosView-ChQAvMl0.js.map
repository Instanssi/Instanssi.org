{"version":3,"file":"VideosView-ChQAvMl0.js","sources":["../../../../../admin/src/components/table/YoutubeCell.vue","../../../../../admin/src/views/arkisto/VideosView.vue"],"sourcesContent":["<template>\n    <span v-if=\"videoId\">\n        <a href=\"#\" @click.prevent=\"showDialog = true\">{{ videoId }}</a>\n        <span v-if=\"startTime\"> @ {{ formattedTime }}</span>\n        <a :href=\"value!\" target=\"_blank\" rel=\"noopener\" class=\"external-link\">\n            <FontAwesomeIcon :icon=\"faExternalLinkAlt\" />\n        </a>\n\n        <v-dialog v-model=\"showDialog\" max-width=\"800\">\n            <v-card>\n                <v-card-title class=\"d-flex justify-space-between align-center\">\n                    <span>{{ videoId }}</span>\n                    <v-btn icon variant=\"text\" @click=\"showDialog = false\">\n                        <FontAwesomeIcon :icon=\"faTimes\" />\n                    </v-btn>\n                </v-card-title>\n                <v-card-text class=\"pa-0\">\n                    <div class=\"video-container\">\n                        <iframe\n                            v-if=\"showDialog\"\n                            :src=\"embedUrl\"\n                            frameborder=\"0\"\n                            allow=\"\n                                accelerometer;\n                                autoplay;\n                                clipboard-write;\n                                encrypted-media;\n                                gyroscope;\n                                picture-in-picture;\n                            \"\n                            allowfullscreen\n                        />\n                    </div>\n                </v-card-text>\n            </v-card>\n        </v-dialog>\n    </span>\n    <span v-else>{{ fallback }}</span>\n</template>\n\n<script setup lang=\"ts\">\n/**\n * YoutubeCell - Display YouTube URLs in data tables\n * Shows video ID and start time (if present) as a clickable link.\n * Clicking opens a dialog with the embedded video.\n */\nimport { faExternalLinkAlt, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { computed, ref } from \"vue\";\n\nconst showDialog = ref(false);\n\nconst props = withDefaults(\n    defineProps<{\n        value?: string | null;\n        fallback?: string;\n    }>(),\n    {\n        value: null,\n        fallback: \"-\",\n    }\n);\n\n/**\n * Parse YouTube URL and extract video ID and start time\n */\nfunction parseYoutubeUrl(urlString: string): { videoId: string | null; startTime: number | null } {\n    try {\n        const url = new URL(urlString);\n        const videoId = url.searchParams.get(\"v\");\n        const start = url.searchParams.get(\"start\");\n        return {\n            videoId,\n            startTime: start ? parseInt(start, 10) : null,\n        };\n    } catch {\n        return { videoId: null, startTime: null };\n    }\n}\n\n/**\n * Format seconds as human-readable time (e.g., \"1:30\" or \"1:02:30\")\n */\nfunction formatTime(seconds: number): string {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n\n    if (hours > 0) {\n        return `${hours}:${minutes.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    }\n    return `${minutes}:${secs.toString().padStart(2, \"0\")}`;\n}\n\nconst parsed = computed(() => {\n    if (!props.value) return { videoId: null, startTime: null };\n    return parseYoutubeUrl(props.value);\n});\n\nconst videoId = computed(() => parsed.value.videoId);\nconst startTime = computed(() => parsed.value.startTime);\n\nconst formattedTime = computed(() => {\n    if (!startTime.value) return \"\";\n    return formatTime(startTime.value);\n});\n\nconst embedUrl = computed(() => {\n    if (!videoId.value) return \"\";\n    let url = `https://www.youtube.com/embed/${videoId.value}`;\n    if (startTime.value) {\n        url += `?start=${startTime.value}`;\n    }\n    return url;\n});\n</script>\n\n<style scoped>\n.video-container {\n    position: relative;\n    padding-bottom: 56.25%; /* 16:9 aspect ratio */\n    height: 0;\n    overflow: hidden;\n}\n\n.video-container iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.external-link {\n    margin-left: 0.5em;\n    opacity: 0.6;\n    font-size: 0.85em;\n}\n\n.external-link:hover {\n    opacity: 1;\n}\n</style>\n","<template>\n    <LayoutBase :key=\"`videos-${eventId}`\" :breadcrumbs=\"breadcrumbs\">\n        <v-col>\n            <v-row>\n                <v-btn v-if=\"auth.canAdd(PermissionTarget.OTHER_VIDEO)\" @click=\"createVideo\">\n                    <template #prepend>\n                        <FontAwesomeIcon :icon=\"faPlus\" />\n                    </template>\n                    {{ t(\"VideosView.newVideo\") }}\n                </v-btn>\n                <v-select\n                    v-model=\"selectedCategory\"\n                    :items=\"categoryOptions\"\n                    variant=\"outlined\"\n                    density=\"compact\"\n                    :label=\"t('VideosView.filterByCategory')\"\n                    style=\"max-width: 300px\"\n                    class=\"ma-0 pa-0 ml-4\"\n                    clearable\n                />\n                <v-text-field\n                    v-model=\"search\"\n                    variant=\"outlined\"\n                    density=\"compact\"\n                    :label=\"t('General.search')\"\n                    style=\"max-width: 400px\"\n                    class=\"ma-0 pa-0 ml-4\"\n                    clearable\n                />\n            </v-row>\n        </v-col>\n        <v-col>\n            <v-row>\n                <v-data-table-server\n                    v-model:items-per-page=\"perPage\"\n                    class=\"elevation-1 primary\"\n                    item-value=\"id\"\n                    density=\"compact\"\n                    :headers=\"headers\"\n                    :items=\"items\"\n                    :items-length=\"totalItems\"\n                    :loading=\"loading\"\n                    :search=\"search\"\n                    :page=\"currentPage\"\n                    :items-per-page-options=\"pageSizeOptions\"\n                    :no-data-text=\"t('VideosView.noVideosFound')\"\n                    :loading-text=\"t('VideosView.loadingVideos')\"\n                    @update:options=\"debouncedLoad\"\n                >\n                    <template #item.category=\"{ item }\">\n                        {{ getCategoryName(item.category) }}\n                    </template>\n                    <template #item.youtube_url=\"{ item }\">\n                        <YoutubeCell :value=\"item.youtube_url\" />\n                    </template>\n                    <template #item.actions=\"{ item }\">\n                        <TableActionButtons\n                            :can-edit=\"auth.canChange(PermissionTarget.OTHER_VIDEO)\"\n                            :can-delete=\"auth.canDelete(PermissionTarget.OTHER_VIDEO)\"\n                            @edit=\"editVideo(item.id)\"\n                            @delete=\"deleteVideo(item)\"\n                        />\n                    </template>\n                </v-data-table-server>\n            </v-row>\n        </v-col>\n    </LayoutBase>\n</template>\n\n<script setup lang=\"ts\">\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { debounce, parseInt } from \"lodash-es\";\nimport { type Ref, computed, inject, onMounted, ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { useRouter } from \"vue-router\";\nimport { useToast } from \"vue-toastification\";\nimport type { VDataTable } from \"vuetify/components\";\n\nimport * as api from \"@/api\";\nimport type { OtherVideo, OtherVideoCategory } from \"@/api\";\nimport LayoutBase, { type BreadcrumbItem } from \"@/components/layout/LayoutBase.vue\";\nimport TableActionButtons from \"@/components/table/TableActionButtons.vue\";\nimport YoutubeCell from \"@/components/table/YoutubeCell.vue\";\nimport { PermissionTarget, useAuth } from \"@/services/auth\";\nimport { useEvents } from \"@/services/events\";\nimport { type LoadArgs, getLoadArgs } from \"@/services/utils/query_tools\";\nimport { confirmDialogKey } from \"@/symbols\";\nimport type { ConfirmDialogType } from \"@/symbols\";\nimport { getApiErrorMessage } from \"@/utils/http\";\n\ntype ReadonlyHeaders = VDataTable[\"$props\"][\"headers\"];\n\nconst props = defineProps<{ eventId: string }>();\nconst { t } = useI18n();\nconst router = useRouter();\nconst confirmDialog: ConfirmDialogType = inject(confirmDialogKey)!;\nconst toast = useToast();\nconst auth = useAuth();\nconst { getEventById } = useEvents();\nconst eventId = computed(() => parseInt(props.eventId, 10));\nconst loading = ref(false);\n\nconst breadcrumbs = computed<BreadcrumbItem[]>(() => [\n    {\n        title: getEventById(eventId.value)?.name ?? \"...\",\n        to: { name: \"dashboard\", params: { eventId: props.eventId } },\n    },\n    { title: t(\"VideosView.title\"), disabled: true },\n]);\nconst pageSizeOptions = [25, 50, 100];\nconst perPage = ref(pageSizeOptions[0]);\nconst totalItems = ref(0);\nconst currentPage = ref(1);\nconst items: Ref<OtherVideo[]> = ref([]);\nconst categories: Ref<OtherVideoCategory[]> = ref([]);\nconst search = ref(\"\");\nconst selectedCategory: Ref<number | null> = ref(null);\nconst lastLoadArgs: Ref<LoadArgs | null> = ref(null);\n\nconst headers: ReadonlyHeaders = [\n    {\n        title: t(\"VideosView.headers.id\"),\n        sortable: true,\n        key: \"id\",\n    },\n    {\n        title: t(\"VideosView.headers.name\"),\n        sortable: true,\n        key: \"name\",\n    },\n    {\n        title: t(\"VideosView.headers.category\"),\n        sortable: false,\n        key: \"category\",\n    },\n    {\n        title: t(\"VideosView.headers.youtube\"),\n        sortable: false,\n        key: \"youtube_url\",\n    },\n    {\n        title: t(\"VideosView.headers.actions\"),\n        sortable: false,\n        key: \"actions\",\n        align: \"end\",\n    },\n];\n\nconst categoryOptions = computed(() => [\n    { title: t(\"VideosView.allCategories\"), value: null },\n    ...categories.value.map((c) => ({ title: c.name, value: c.id })),\n]);\n\nfunction getCategoryName(categoryId: number): string {\n    const category = categories.value.find((c) => c.id === categoryId);\n    return category?.name ?? `#${categoryId}`;\n}\n\nfunction flushData() {\n    if (lastLoadArgs.value) {\n        load(lastLoadArgs.value);\n    }\n}\n\nasync function loadCategories() {\n    try {\n        const response = await api.adminEventArkistoVideoCategoriesList({\n            path: { event_pk: eventId.value },\n            query: { limit: 100 },\n        });\n        categories.value = response.data!.results;\n    } catch (e) {\n        console.error(\"Failed to load categories:\", e);\n    }\n}\n\nasync function load(args: LoadArgs) {\n    loading.value = true;\n    lastLoadArgs.value = args;\n    try {\n        const response = await api.adminEventArkistoVideosList({\n            path: { event_pk: eventId.value },\n            query: {\n                ...getLoadArgs(args),\n                ...(selectedCategory.value ? { category: selectedCategory.value } : {}),\n            },\n        });\n        items.value = response.data!.results;\n        totalItems.value = response.data!.count;\n    } catch (e) {\n        toast.error(t(\"VideosView.loadFailure\"));\n        console.error(e);\n    } finally {\n        loading.value = false;\n    }\n}\n\nconst debouncedLoad = debounce(load, 250);\n\n// Reload when category filter changes\nwatch(selectedCategory, () => {\n    if (lastLoadArgs.value) {\n        debouncedLoad(lastLoadArgs.value);\n    }\n});\n\nfunction refresh() {\n    selectedCategory.value = null;\n    search.value = \"\";\n    loadCategories();\n    debouncedLoad({\n        page: 1,\n        itemsPerPage: perPage.value ?? 25,\n        sortBy: [],\n        groupBy: [] as never,\n        search: \"\",\n    });\n}\n\n// Reload categories when event changes\nwatch(eventId, refresh);\n\nasync function deleteVideo(item: OtherVideo): Promise<void> {\n    const text = t(\"VideosView.confirmDelete\", item);\n    await confirmDialog.value!.ifConfirmed(text, async () => {\n        try {\n            await api.adminEventArkistoVideosDestroy({\n                path: { event_pk: eventId.value, id: item.id },\n            });\n            toast.success(t(\"VideosView.deleteSuccess\"));\n            flushData();\n        } catch (e) {\n            toast.error(getApiErrorMessage(e, t(\"VideosView.deleteFailure\")));\n            console.error(e);\n        }\n    });\n}\n\nfunction editVideo(id: number): void {\n    router.push({ name: \"arkisto-videos-edit\", params: { eventId: eventId.value, id } });\n}\n\nfunction createVideo(): void {\n    router.push({ name: \"arkisto-videos-new\", params: { eventId: eventId.value } });\n}\n\nonMounted(() => {\n    loadCategories();\n});\n</script>\n"],"names":["showDialog","ref","props","__props","parseYoutubeUrl","urlString","url","videoId","start","formatTime","seconds","hours","minutes","secs","parsed","computed","startTime","formattedTime","embedUrl","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_createVNode","_unref","FontAwesomeIcon","faExternalLinkAlt","_component_v_dialog","$event","_component_v_card","_component_v_card_title","_component_v_btn","faTimes","_component_v_card_text","_hoisted_4","_openBlock","t","useI18n","router","useRouter","confirmDialog","inject","confirmDialogKey","toast","useToast","auth","useAuth","getEventById","useEvents","eventId","parseInt","loading","breadcrumbs","pageSizeOptions","perPage","totalItems","currentPage","items","categories","search","selectedCategory","lastLoadArgs","headers","categoryOptions","c","getCategoryName","categoryId","flushData","load","loadCategories","response","api.adminEventArkistoVideoCategoriesList","e","args","api.adminEventArkistoVideosList","getLoadArgs","debouncedLoad","debounce","watch","refresh","deleteVideo","item","text","api.adminEventArkistoVideosDestroy","getApiErrorMessage","editVideo","id","createVideo","onMounted","_createBlock","LayoutBase","_component_v_col","_component_v_row","PermissionTarget","faPlus","_createTextVNode","_component_v_select","_component_v_text_field","_component_v_data_table_server","_withCtx","YoutubeCell","TableActionButtons"],"mappings":"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"}