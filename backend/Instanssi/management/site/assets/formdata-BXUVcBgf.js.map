{"version":3,"file":"formdata-BXUVcBgf.js","sources":["../../../../../admin/node_modules/vuetify/lib/composables/fileDrop.js","../../../../../admin/node_modules/vuetify/lib/composables/fileFilter.js","../../../../../admin/node_modules/vuetify/lib/components/VFileInput/VFileInput.js","../../../../../admin/src/utils/file.ts","../../../../../admin/src/utils/formdata.ts"],"sourcesContent":["// Types\n\nexport function useFileDrop() {\n  function hasFilesOrFolders(e) {\n    const entries = [...(e.dataTransfer?.items ?? [])].filter(x => x.kind === 'file').map(x => x.webkitGetAsEntry()).filter(Boolean);\n    return entries.length > 0 || [...(e.dataTransfer?.files ?? [])].length > 0;\n  }\n  async function handleDrop(e) {\n    const result = [];\n    const entries = [...(e.dataTransfer?.items ?? [])].filter(x => x.kind === 'file').map(x => x.webkitGetAsEntry()).filter(Boolean);\n    if (entries.length) {\n      for (const entry of entries) {\n        const files = await traverseFileTree(entry, appendIfDirectory('.', entry));\n        result.push(...files.map(x => x.file));\n      }\n    } else {\n      result.push(...[...(e.dataTransfer?.files ?? [])]);\n    }\n    return result;\n  }\n  return {\n    handleDrop,\n    hasFilesOrFolders\n  };\n}\nfunction traverseFileTree(item) {\n  let path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise((resolve, reject) => {\n    if (item.isFile) {\n      const fileEntry = item;\n      fileEntry.file(file => resolve([{\n        file,\n        path\n      }]), reject);\n    } else if (item.isDirectory) {\n      const directoryReader = item.createReader();\n      directoryReader.readEntries(async entries => {\n        const files = [];\n        for (const entry of entries) {\n          files.push(...(await traverseFileTree(entry, appendIfDirectory(path, entry))));\n        }\n        resolve(files);\n      });\n    }\n  });\n}\nfunction appendIfDirectory(path, item) {\n  return item.isDirectory ? `${path}/${item.name}` : path;\n}\n//# sourceMappingURL=fileDrop.js.map","// Utilities\nimport { computed } from 'vue';\nimport { propsFactory } from \"../util/index.js\";\n// Composables\nexport const makeFileFilterProps = propsFactory({\n  filterByType: String\n}, 'file-accept');\nexport function useFileFilter(props) {\n  const fileFilter = computed(() => props.filterByType ? createFilter(props.filterByType) : null);\n  function filterAccepted(files) {\n    if (fileFilter.value) {\n      const accepted = files.filter(fileFilter.value);\n      return {\n        accepted,\n        rejected: files.filter(f => !accepted.includes(f))\n      };\n    }\n    return {\n      accepted: files,\n      rejected: []\n    };\n  }\n  return {\n    filterAccepted\n  };\n}\nfunction createFilter(v) {\n  const types = v.split(',').map(x => x.trim().toLowerCase());\n  const extensionsToMatch = types.filter(x => x.startsWith('.'));\n  const wildcards = types.filter(x => x.endsWith('/*'));\n  const typesToMatch = types.filter(x => !extensionsToMatch.includes(x) && !wildcards.includes(x));\n  return file => {\n    const extension = file.name.split('.').at(-1)?.toLowerCase() ?? '';\n    const typeGroup = file.type.split('/').at(0)?.toLowerCase() ?? '';\n    return typesToMatch.includes(file.type) || extensionsToMatch.includes(`.${extension}`) || wildcards.includes(`${typeGroup}/*`);\n  };\n}\n//# sourceMappingURL=fileFilter.js.map","import { Fragment as _Fragment, mergeProps as _mergeProps, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\";\n// Styles\nimport \"./VFileInput.css\";\n\n// Components\nimport { VChip } from \"../VChip/index.js\";\nimport { VCounter } from \"../VCounter/index.js\";\nimport { VField } from \"../VField/index.js\";\nimport { makeVFieldProps } from \"../VField/VField.js\";\nimport { makeVInputProps, VInput } from \"../VInput/VInput.js\"; // Composables\nimport { useFileDrop } from \"../../composables/fileDrop.js\";\nimport { makeFileFilterProps, useFileFilter } from \"../../composables/fileFilter.js\";\nimport { useFocus } from \"../../composables/focus.js\";\nimport { forwardRefs } from \"../../composables/forwardRefs.js\";\nimport { useLocale } from \"../../composables/locale.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\"; // Utilities\nimport { computed, nextTick, ref, shallowRef, toRef, watch } from 'vue';\nimport { callEvent, filterInputAttrs, genericComponent, humanReadableFileSize, omit, propsFactory, useRender, wrapInArray } from \"../../util/index.js\"; // Types\nexport const makeVFileInputProps = propsFactory({\n  chips: Boolean,\n  counter: Boolean,\n  counterSizeString: {\n    type: String,\n    default: '$vuetify.fileInput.counterSize'\n  },\n  counterString: {\n    type: String,\n    default: '$vuetify.fileInput.counter'\n  },\n  hideInput: Boolean,\n  multiple: Boolean,\n  showSize: {\n    type: [Boolean, Number, String],\n    default: false,\n    validator: v => {\n      return typeof v === 'boolean' || [1000, 1024].includes(Number(v));\n    }\n  },\n  truncateLength: {\n    type: [Number, String],\n    default: 22\n  },\n  ...omit(makeVInputProps({\n    prependIcon: '$file'\n  }), ['direction']),\n  modelValue: {\n    type: [Array, Object],\n    default: props => props.multiple ? [] : null,\n    validator: val => {\n      return wrapInArray(val).every(v => v != null && typeof v === 'object');\n    }\n  },\n  ...makeFileFilterProps(),\n  ...makeVFieldProps({\n    clearable: true\n  })\n}, 'VFileInput');\nexport const VFileInput = genericComponent()({\n  name: 'VFileInput',\n  inheritAttrs: false,\n  props: makeVFileInputProps(),\n  emits: {\n    'click:control': e => true,\n    'mousedown:control': e => true,\n    'update:focused': focused => true,\n    'update:modelValue': files => true,\n    rejected: files => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      emit,\n      slots\n    } = _ref;\n    const {\n      t\n    } = useLocale();\n    const {\n      filterAccepted\n    } = useFileFilter(props);\n    const model = useProxiedModel(props, 'modelValue', props.modelValue, val => wrapInArray(val), val => !props.multiple && Array.isArray(val) ? val[0] : val);\n    const {\n      isFocused,\n      focus,\n      blur\n    } = useFocus(props);\n    const base = computed(() => typeof props.showSize !== 'boolean' ? props.showSize : undefined);\n    const totalBytes = computed(() => (model.value ?? []).reduce((bytes, _ref2) => {\n      let {\n        size = 0\n      } = _ref2;\n      return bytes + size;\n    }, 0));\n    const totalBytesReadable = computed(() => humanReadableFileSize(totalBytes.value, base.value));\n    const fileNames = computed(() => (model.value ?? []).map(file => {\n      const {\n        name = '',\n        size = 0\n      } = file;\n      const truncatedText = truncateText(name);\n      return !props.showSize ? truncatedText : `${truncatedText} (${humanReadableFileSize(size, base.value)})`;\n    }));\n    const counterValue = computed(() => {\n      const fileCount = model.value?.length ?? 0;\n      if (props.showSize) return t(props.counterSizeString, fileCount, totalBytesReadable.value);else return t(props.counterString, fileCount);\n    });\n    const vInputRef = ref();\n    const vFieldRef = ref();\n    const inputRef = ref();\n    const isActive = toRef(() => isFocused.value || props.active);\n    const isPlainOrUnderlined = computed(() => ['plain', 'underlined'].includes(props.variant));\n    const isDragging = shallowRef(false);\n    const {\n      handleDrop,\n      hasFilesOrFolders\n    } = useFileDrop();\n    function onFocus() {\n      if (inputRef.value !== document.activeElement) {\n        inputRef.value?.focus();\n      }\n      if (!isFocused.value) focus();\n    }\n    function onClickPrepend(e) {\n      inputRef.value?.click();\n    }\n    function onControlMousedown(e) {\n      emit('mousedown:control', e);\n    }\n    function onControlClick(e) {\n      inputRef.value?.click();\n      emit('click:control', e);\n    }\n    function onClear(e) {\n      e.stopPropagation();\n      onFocus();\n      nextTick(() => {\n        model.value = [];\n        callEvent(props['onClick:clear'], e);\n      });\n    }\n    function truncateText(str) {\n      if (str.length < Number(props.truncateLength)) return str;\n      const charsKeepOneSide = Math.floor((Number(props.truncateLength) - 1) / 2);\n      return `${str.slice(0, charsKeepOneSide)}â€¦${str.slice(str.length - charsKeepOneSide)}`;\n    }\n    function onDragover(e) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      isDragging.value = true;\n    }\n    function onDragleave(e) {\n      e.preventDefault();\n      isDragging.value = false;\n    }\n    async function onDrop(e) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      isDragging.value = false;\n      if (!inputRef.value || !hasFilesOrFolders(e)) return;\n      const allDroppedFiles = await handleDrop(e);\n      selectAccepted(allDroppedFiles);\n    }\n    function onFileSelection(e) {\n      if (!e.target || e.repack) return; // prevent loop\n\n      if (!props.filterByType) {\n        const target = e.target;\n        model.value = [...(target.files ?? [])];\n      } else {\n        selectAccepted([...e.target.files]);\n      }\n    }\n    function selectAccepted(files) {\n      const dataTransfer = new DataTransfer();\n      const {\n        accepted,\n        rejected\n      } = filterAccepted(files);\n      if (rejected.length) {\n        emit('rejected', rejected);\n      }\n      for (const file of accepted) {\n        dataTransfer.items.add(file);\n      }\n      inputRef.value.files = dataTransfer.files;\n      model.value = [...dataTransfer.files];\n      const event = new Event('change', {\n        bubbles: true\n      });\n      event.repack = true;\n      inputRef.value.dispatchEvent(event);\n    }\n    watch(model, newValue => {\n      const hasModelReset = !Array.isArray(newValue) || !newValue.length;\n      if (hasModelReset && inputRef.value) {\n        inputRef.value.value = '';\n      }\n    });\n    useRender(() => {\n      const hasCounter = !!(slots.counter || props.counter);\n      const hasDetails = !!(hasCounter || slots.details);\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs);\n      const {\n        modelValue: _,\n        ...inputProps\n      } = VInput.filterProps(props);\n      const fieldProps = {\n        ...VField.filterProps(props),\n        'onClick:clear': onClear\n      };\n      const expectsDirectory = attrs.webkitdirectory !== undefined && attrs.webkitdirectory !== false;\n      const acceptFallback = attrs.accept ? String(attrs.accept) : undefined;\n      const inputAccept = expectsDirectory ? undefined : props.filterByType ?? acceptFallback;\n      return _createVNode(VInput, _mergeProps({\n        \"ref\": vInputRef,\n        \"modelValue\": props.multiple ? model.value : model.value[0],\n        \"class\": ['v-file-input', {\n          'v-file-input--chips': !!props.chips,\n          'v-file-input--dragging': isDragging.value,\n          'v-file-input--hide': props.hideInput,\n          'v-input--plain-underlined': isPlainOrUnderlined.value\n        }, props.class],\n        \"style\": props.style,\n        \"onClick:prepend\": onClickPrepend\n      }, rootAttrs, inputProps, {\n        \"centerAffix\": !isPlainOrUnderlined.value,\n        \"focused\": isFocused.value\n      }), {\n        ...slots,\n        default: _ref3 => {\n          let {\n            id,\n            isDisabled,\n            isDirty,\n            isReadonly,\n            isValid,\n            hasDetails\n          } = _ref3;\n          return _createVNode(VField, _mergeProps({\n            \"ref\": vFieldRef,\n            \"prependIcon\": props.prependIcon,\n            \"onMousedown\": onControlMousedown,\n            \"onClick\": onControlClick,\n            \"onClick:prependInner\": props['onClick:prependInner'],\n            \"onClick:appendInner\": props['onClick:appendInner']\n          }, fieldProps, {\n            \"id\": id.value,\n            \"active\": isActive.value || isDirty.value,\n            \"dirty\": isDirty.value || props.dirty,\n            \"disabled\": isDisabled.value,\n            \"focused\": isFocused.value,\n            \"details\": hasDetails.value,\n            \"error\": isValid.value === false,\n            \"onDragover\": onDragover,\n            \"onDrop\": onDrop\n          }), {\n            ...slots,\n            default: _ref4 => {\n              let {\n                props: {\n                  class: fieldClass,\n                  ...slotProps\n                },\n                controlRef\n              } = _ref4;\n              return _createElementVNode(_Fragment, null, [_createElementVNode(\"input\", _mergeProps({\n                \"ref\": val => inputRef.value = controlRef.value = val,\n                \"type\": \"file\",\n                \"accept\": inputAccept,\n                \"readonly\": isReadonly.value,\n                \"disabled\": isDisabled.value,\n                \"multiple\": props.multiple,\n                \"name\": props.name,\n                \"onClick\": e => {\n                  e.stopPropagation();\n                  if (isReadonly.value) e.preventDefault();\n                  onFocus();\n                },\n                \"onChange\": onFileSelection,\n                \"onDragleave\": onDragleave,\n                \"onFocus\": onFocus,\n                \"onBlur\": blur\n              }, slotProps, inputAttrs), null), _createElementVNode(\"div\", {\n                \"class\": _normalizeClass(fieldClass)\n              }, [!!model.value?.length && !props.hideInput && (slots.selection ? slots.selection({\n                fileNames: fileNames.value,\n                totalBytes: totalBytes.value,\n                totalBytesReadable: totalBytesReadable.value\n              }) : props.chips ? fileNames.value.map(text => _createVNode(VChip, {\n                \"key\": text,\n                \"size\": \"small\",\n                \"text\": text\n              }, null)) : fileNames.value.join(', '))])]);\n            }\n          });\n        },\n        details: hasDetails ? slotProps => _createElementVNode(_Fragment, null, [slots.details?.(slotProps), hasCounter && _createElementVNode(_Fragment, null, [_createElementVNode(\"span\", null, null), _createVNode(VCounter, {\n          \"active\": !!model.value?.length,\n          \"value\": counterValue.value,\n          \"disabled\": props.disabled\n        }, slots.counter)])]) : undefined\n      });\n    });\n    return forwardRefs({}, vInputRef, vFieldRef, inputRef);\n  }\n});\n//# sourceMappingURL=VFileInput.js.map","/**\n * File type for v-file-input validation - can return File, File[], or null\n */\nexport type FileValue = File | File[] | null;\n\n/**\n * Helper to get a single File from v-file-input value.\n * v-file-input can return File, File[], or null depending on the `multiple` prop.\n *\n * @param value - The value from v-file-input\n * @returns The first File if available, undefined otherwise\n */\nexport function getFile(value: FileValue | undefined): File | undefined {\n    if (!value) return undefined;\n    if (Array.isArray(value)) return value[0];\n    return value;\n}\n","import { getFile, type FileValue } from \"./file\";\n\n/**\n * Serialize a single value to FormData.\n * Based on @hey-api/openapi-ts serializeFormDataPair.\n */\nfunction serializeFormDataPair(data: FormData, key: string, value: unknown): void {\n    if (typeof value === \"string\" || value instanceof Blob) {\n        data.append(key, value);\n    } else if (value instanceof Date) {\n        data.append(key, value.toISOString());\n    } else {\n        data.append(key, JSON.stringify(value));\n    }\n}\n\n/**\n * Convert an object to FormData for multipart/form-data uploads.\n *\n * Based on @hey-api/openapi-ts formDataBodySerializer, but with one difference:\n * - null values are sent as empty string (to clear the field)\n * - undefined values are skipped (not sent)\n */\nexport function toFormData(obj: Record<string, unknown>): FormData {\n    const data = new FormData();\n\n    for (const [key, value] of Object.entries(obj)) {\n        if (value === undefined) {\n            continue;\n        }\n        if (value === null) {\n            data.append(key, \"\");\n            continue;\n        }\n        if (Array.isArray(value)) {\n            value.forEach((v) => serializeFormDataPair(data, key, v));\n        } else {\n            serializeFormDataPair(data, key, value);\n        }\n    }\n\n    return data;\n}\n\n/**\n * Prepare a file field value for FormData serialization.\n *\n * This function handles the three-state logic for file fields:\n * - undefined (not touched) -> returns undefined (field will be skipped in FormData)\n * - null (explicitly cleared) -> returns null (field will be sent as empty string to clear it)\n * - File (new file selected) -> returns the File\n *\n * @param value - The value from the file field\n * @returns File if a new file was selected, null if cleared, undefined if not touched\n */\nexport function prepareFileField(value: FileValue | undefined): File | null | undefined {\n    // Not touched - don't send the field\n    if (value === undefined) {\n        return undefined;\n    }\n    // Explicitly cleared - send empty string to clear\n    if (value === null) {\n        return null;\n    }\n    // New file selected\n    return getFile(value);\n}\n"],"names":["useFileDrop","hasFilesOrFolders","e","x","handleDrop","result","entries","entry","files","traverseFileTree","appendIfDirectory","item","path","resolve","reject","file","makeFileFilterProps","propsFactory","useFileFilter","props","fileFilter","computed","createFilter","filterAccepted","accepted","f","v","types","extensionsToMatch","wildcards","typesToMatch","extension","typeGroup","makeVFileInputProps","omit","makeVInputProps","val","wrapInArray","makeVFieldProps","VFileInput","genericComponent","focused","_ref","attrs","emit","slots","t","useLocale","model","useProxiedModel","isFocused","focus","blur","useFocus","base","totalBytes","bytes","_ref2","size","totalBytesReadable","humanReadableFileSize","fileNames","name","truncatedText","truncateText","counterValue","fileCount","vInputRef","ref","vFieldRef","inputRef","isActive","toRef","isPlainOrUnderlined","isDragging","shallowRef","onFocus","onClickPrepend","onControlMousedown","onControlClick","onClear","nextTick","callEvent","str","charsKeepOneSide","onDragover","onDragleave","onDrop","allDroppedFiles","selectAccepted","onFileSelection","target","dataTransfer","rejected","event","watch","newValue","useRender","hasCounter","hasDetails","rootAttrs","inputAttrs","filterInputAttrs","_","inputProps","VInput","fieldProps","VField","expectsDirectory","acceptFallback","inputAccept","_createVNode","_mergeProps","_ref3","id","isDisabled","isDirty","isReadonly","isValid","_ref4","fieldClass","slotProps","controlRef","_createElementVNode","_Fragment","_normalizeClass","text","VChip","VCounter","forwardRefs","getFile","value","serializeFormDataPair","data","key","toFormData","obj","prepareFileField"],"mappings":"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","x_google_ignoreList":[0,1,2]}