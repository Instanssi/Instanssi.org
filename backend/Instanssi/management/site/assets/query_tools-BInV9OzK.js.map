{"version":3,"file":"query_tools-BInV9OzK.js","sources":["../../../../../admin/src/services/utils/query_tools.ts"],"sourcesContent":["type SortArgs = {\n    key: string;\n    order: \"asc\" | \"desc\";\n};\n\n// These should match Vuetify data-table args\nexport type LoadArgs = {\n    page: number;\n    itemsPerPage: number;\n    sortBy: SortArgs[];\n    groupBy: never;\n    search: string;\n};\n\n// These are passed to the API client\nexport type ApiArgs = {\n    offset: number;\n    limit: number;\n    ordering: string | undefined;\n    search: string;\n};\n\n/**\n * Converts vuetify arguments to API compatible form\n */\nexport function getLoadArgs(args: LoadArgs): ApiArgs {\n    return {\n        offset: (args.page - 1) * args.itemsPerPage,\n        limit: args.itemsPerPage,\n        ordering: getSortString(args),\n        search: args.search,\n    };\n}\n\n/**\n * Convert sort arguments from vuetify to API compatible form.\n */\nexport function getSortString(args: LoadArgs): string | undefined {\n    if (args.sortBy.length <= 0) {\n        return undefined;\n    }\n    const sortBy = args.sortBy[0]!;\n    if (sortBy.order === \"asc\") {\n        return `${sortBy.key}`;\n    } else {\n        return `-${sortBy.key}`;\n    }\n}\n"],"names":["getLoadArgs","args","getSortString","sortBy"],"mappings":"AAyBO,SAASA,EAAYC,EAAyB,CACjD,MAAO,CACH,QAASA,EAAK,KAAO,GAAKA,EAAK,aAC/B,MAAOA,EAAK,aACZ,SAAUC,EAAcD,CAAI,EAC5B,OAAQA,EAAK,MAAA,CAErB,CAKO,SAASC,EAAcD,EAAoC,CAC9D,GAAIA,EAAK,OAAO,QAAU,EACtB,OAEJ,MAAME,EAASF,EAAK,OAAO,CAAC,EAC5B,OAAIE,EAAO,QAAU,MACV,GAAGA,EAAO,GAAG,GAEb,IAAIA,EAAO,GAAG,EAE7B"}